[{"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\index.js":"1","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\App\\App.js":"2","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\services\\localStorage.js":"3","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Routes.js":"4","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\services\\api.js":"5","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\index.js":"6","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\history.js":"7","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\PageLayout\\PageLayout.js":"8","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserLogout\\UserLogout.js":"9","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserRegister\\UserRegister.js":"10","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserLogout\\UserLogoutError.js":"11","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserLogin\\UserLogin.js":"12","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserResetPassword\\UserResetPassword.js":"13","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserDownload\\UserDownload.js":"14","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\NotFound\\NotFound.js":"15","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Contact\\Contact.js":"16","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Scheduling\\Scheduling.js":"17","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Profile\\Profile.js":"18","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Reports\\Reports.js":"19","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Home\\Home.js":"20","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\District\\District.js":"21","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\City\\CityServices.js":"22","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\City\\City.js":"23","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Client\\Client.js":"24","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Region\\Region.js":"25","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Broker\\Broker.js":"26","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Photographer\\Horary.js":"27","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Photographer\\Photographer.js":"28","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Reports\\Reports.js":"29","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Scheduling\\Scheduling.js":"30","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Service\\Service.js":"31","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\Rescheduling.js":"32","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\Scheduling.js":"33","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\reducers.js":"34","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\sagas.js":"35","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\index.js":"36","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\actions.js":"37","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Container.js":"38","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\LoginRequeredRoute.js":"39","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\LogoutRequeredRoute.js":"40","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\AdminRequeredRoute.js":"41","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserLogout\\LogoutError.js":"42","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\ClientRequeredRoute.js":"43","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserLogout\\Logout.js":"44","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserDownload\\UserDownload.js":"45","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\SidebarLayout.js":"46","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Navbar.js":"47","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserResetPassword\\ResetPassword.js":"48","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Contact\\Contact.js":"49","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\City\\CityServices.js":"50","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Client\\Client.js":"51","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Region\\Region.js":"52","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\City\\City.js":"53","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Profile\\Profile.js":"54","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\District\\District.js":"55","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Broker\\Broker.js":"56","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Service\\Service.js":"57","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserRegister\\SignUp.js":"58","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserLogin\\SignIn.js":"59","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Home\\Home.js":"60","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Reports\\Reports.js":"61","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Photographer\\Photographer.js":"62","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Reports\\Reports.js":"63","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Photographer\\Horary.js":"64","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\Scheduling\\Scheduling.js":"65","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Scheduling\\Scheduling.js":"66","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\Scheduling\\Rescheduling.js":"67","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Scheduling\\Scheduling.js":"68","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Sideitem.js":"69","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Sidebar.js":"70","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\Scheduling\\Maps.js":"71","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\FileUploader.js":"72","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\FileManager.js":"73","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader.js":"74","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileManager.js":"75","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\FileUploader.js":"76","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\Upload\\Upload.js":"77","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\Progress\\Progress.js":"78","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\Dropzone\\Dropzone.js":"79"},{"size":168,"mtime":1583708558922,"results":"80","hashOfConfig":"81"},{"size":1355,"mtime":1612956314999,"results":"82","hashOfConfig":"81"},{"size":1085,"mtime":1612926787843,"results":"83","hashOfConfig":"81"},{"size":4982,"mtime":1613520276700,"results":"84","hashOfConfig":"81"},{"size":1649,"mtime":1612956315002,"results":"85","hashOfConfig":"81"},{"size":753,"mtime":1584490470294,"results":"86","hashOfConfig":"81"},{"size":91,"mtime":1578442459328,"results":"87","hashOfConfig":"81"},{"size":296,"mtime":1612504190489,"results":"88","hashOfConfig":"81"},{"size":144,"mtime":1578442459325,"results":"89","hashOfConfig":"81"},{"size":148,"mtime":1578442459327,"results":"90","hashOfConfig":"81"},{"size":164,"mtime":1580600944872,"results":"91","hashOfConfig":"81"},{"size":143,"mtime":1578442459323,"results":"92","hashOfConfig":"81"},{"size":172,"mtime":1580873135673,"results":"93","hashOfConfig":"81"},{"size":152,"mtime":1611112814783,"results":"94","hashOfConfig":"81"},{"size":559,"mtime":1582156113522,"results":"95","hashOfConfig":"81"},{"size":180,"mtime":1580785326751,"results":"96","hashOfConfig":"81"},{"size":192,"mtime":1581641079585,"results":"97","hashOfConfig":"81"},{"size":180,"mtime":1582941549334,"results":"98","hashOfConfig":"81"},{"size":180,"mtime":1582080864621,"results":"99","hashOfConfig":"81"},{"size":170,"mtime":1581885768756,"results":"100","hashOfConfig":"81"},{"size":186,"mtime":1578442459303,"results":"101","hashOfConfig":"81"},{"size":202,"mtime":1612619118239,"results":"102","hashOfConfig":"81"},{"size":170,"mtime":1578442459298,"results":"103","hashOfConfig":"81"},{"size":176,"mtime":1578442459300,"results":"104","hashOfConfig":"81"},{"size":178,"mtime":1578442459310,"results":"105","hashOfConfig":"81"},{"size":178,"mtime":1578442459296,"results":"106","hashOfConfig":"81"},{"size":202,"mtime":1612619118241,"results":"107","hashOfConfig":"81"},{"size":202,"mtime":1578442459308,"results":"108","hashOfConfig":"81"},{"size":182,"mtime":1582068100593,"results":"109","hashOfConfig":"81"},{"size":194,"mtime":1581641211117,"results":"110","hashOfConfig":"81"},{"size":182,"mtime":1612619118244,"results":"111","hashOfConfig":"81"},{"size":204,"mtime":1581560813953,"results":"112","hashOfConfig":"81"},{"size":196,"mtime":1611111738990,"results":"113","hashOfConfig":"81"},{"size":1083,"mtime":1578442459337,"results":"114","hashOfConfig":"81"},{"size":51,"mtime":1578442459339,"results":"115","hashOfConfig":"81"},{"size":2558,"mtime":1613522267316,"results":"116","hashOfConfig":"81"},{"size":629,"mtime":1578442459335,"results":"117","hashOfConfig":"81"},{"size":1718,"mtime":1612619118232,"results":"118","hashOfConfig":"81"},{"size":624,"mtime":1583250529233,"results":"119","hashOfConfig":"81"},{"size":672,"mtime":1581983360146,"results":"120","hashOfConfig":"81"},{"size":683,"mtime":1578442459275,"results":"121","hashOfConfig":"81"},{"size":1016,"mtime":1596499763915,"results":"122","hashOfConfig":"81"},{"size":682,"mtime":1581954568489,"results":"123","hashOfConfig":"81"},{"size":807,"mtime":1596499739605,"results":"124","hashOfConfig":"81"},{"size":1512,"mtime":1611112799844,"results":"125","hashOfConfig":"81"},{"size":3280,"mtime":1612619118234,"results":"126","hashOfConfig":"81"},{"size":2882,"mtime":1613103803253,"results":"127","hashOfConfig":"81"},{"size":5155,"mtime":1584707231520,"results":"128","hashOfConfig":"81"},{"size":3846,"mtime":1596500039121,"results":"129","hashOfConfig":"81"},{"size":4763,"mtime":1612922556870,"results":"130","hashOfConfig":"81"},{"size":4559,"mtime":1596501794984,"results":"131","hashOfConfig":"81"},{"size":4822,"mtime":1586100375131,"results":"132","hashOfConfig":"81"},{"size":5453,"mtime":1612619118125,"results":"133","hashOfConfig":"81"},{"size":6791,"mtime":1596499981104,"results":"134","hashOfConfig":"81"},{"size":6673,"mtime":1586100336073,"results":"135","hashOfConfig":"81"},{"size":6087,"mtime":1613213402150,"results":"136","hashOfConfig":"81"},{"size":5589,"mtime":1612619118215,"results":"137","hashOfConfig":"81"},{"size":9135,"mtime":1596500781327,"results":"138","hashOfConfig":"81"},{"size":8722,"mtime":1613521962662,"results":"139","hashOfConfig":"81"},{"size":7724,"mtime":1612619118141,"results":"140","hashOfConfig":"81"},{"size":10592,"mtime":1613103943119,"results":"141","hashOfConfig":"81"},{"size":8540,"mtime":1612619118173,"results":"142","hashOfConfig":"81"},{"size":11870,"mtime":1612619118182,"results":"143","hashOfConfig":"81"},{"size":10636,"mtime":1612922556873,"results":"144","hashOfConfig":"81"},{"size":15667,"mtime":1613521962659,"results":"145","hashOfConfig":"81"},{"size":19830,"mtime":1613214048984,"results":"146","hashOfConfig":"81"},{"size":28875,"mtime":1612619118228,"results":"147","hashOfConfig":"81"},{"size":29989,"mtime":1613214048987,"results":"148","hashOfConfig":"81"},{"size":1328,"mtime":1596499674842,"results":"149","hashOfConfig":"81"},{"size":1001,"mtime":1613103803255,"results":"150","hashOfConfig":"81"},{"size":3676,"mtime":1612922556878,"results":"151","hashOfConfig":"81"},{"size":204,"mtime":1613522003782,"results":"152","hashOfConfig":"81"},{"size":200,"mtime":1613522003349,"results":"153","hashOfConfig":"81"},{"size":375,"mtime":1613521841474,"results":"154","hashOfConfig":"81"},{"size":7345,"mtime":1613521841178,"results":"155","hashOfConfig":"81"},{"size":433,"mtime":1613521841296,"results":"156","hashOfConfig":"81"},{"size":6430,"mtime":1613521841436,"results":"157","hashOfConfig":"81"},{"size":414,"mtime":1613521841364,"results":"158","hashOfConfig":"81"},{"size":2302,"mtime":1613521841244,"results":"159","hashOfConfig":"81"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},"1860tkx",{"filePath":"163","messages":"164","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"165","usedDeprecatedRules":"162"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"192","usedDeprecatedRules":"162"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"205","messages":"206","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"211","messages":"212","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"213","messages":"214","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"217","messages":"218","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"221","messages":"222","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"223","messages":"224","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"231","messages":"232","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"235","messages":"236","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"237","messages":"238","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"239","messages":"240","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"243","messages":"244","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"245","messages":"246","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"247","messages":"248","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"249","messages":"250","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"251","messages":"252","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"253","usedDeprecatedRules":"162"},{"filePath":"254","messages":"255","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"256","usedDeprecatedRules":"162"},{"filePath":"257","messages":"258","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"259","usedDeprecatedRules":"162"},{"filePath":"260","messages":"261","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"262","messages":"263","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"264","messages":"265","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"266","usedDeprecatedRules":"162"},{"filePath":"267","messages":"268","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"269","messages":"270","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"271","messages":"272","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"273","usedDeprecatedRules":"162"},{"filePath":"274","messages":"275","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"276","usedDeprecatedRules":"162"},{"filePath":"277","messages":"278","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"279","messages":"280","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"281","messages":"282","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"283","messages":"284","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"285","messages":"286","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"287","usedDeprecatedRules":"162"},{"filePath":"288","messages":"289","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"290","messages":"291","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"292","usedDeprecatedRules":"162"},{"filePath":"293","messages":"294","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"295","usedDeprecatedRules":"162"},{"filePath":"296","messages":"297","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"298","usedDeprecatedRules":"162"},{"filePath":"299","messages":"300","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"301","usedDeprecatedRules":"162"},{"filePath":"302","messages":"303","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"304","usedDeprecatedRules":"162"},{"filePath":"305","messages":"306","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"307","usedDeprecatedRules":"162"},{"filePath":"308","messages":"309","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"310","usedDeprecatedRules":"162"},{"filePath":"311","messages":"312","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"313","usedDeprecatedRules":"162"},{"filePath":"314","messages":"315","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"316","messages":"317","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"318","messages":"319","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"320","messages":"321","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"322","messages":"323","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"324","messages":"325","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"326","messages":"327","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"328","messages":"329","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"330","messages":"331","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"332","messages":"333","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"334","messages":"335","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\index.js",[],["336","337"],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\App\\App.js",["338","339"],"import React, { useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { Provider as ReduxProvider } from \"react-redux\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { SnackbarProvider } from \"notistack\";\r\n\r\nimport api from \"../../services/api\";\r\nimport LocalStorage from \"../../services/localStorage.js\";\r\n\r\nimport Routes from \"../Routes\";\r\nimport { store, persistor } from \"../../store\";\r\n\r\nconst localStorageJs = LocalStorage.getService();\r\n\r\nfunction App({ enqueueSnackbar }) {\r\n  const refreshToken = localStorageJs.getRefreshToken();\r\n  const dateToken = localStorageJs.getDateToken();\r\n\r\n  useEffect(() => {\r\n    async function refreshToken() {\r\n      if (dateToken) {\r\n        if (300000 + Date.parse(dateToken) > Date.parse(new Date())) {\r\n          api.post(\"/refresh\", { refreshToken }).then((res) => {\r\n            localStorageJs.setToken(res.data);\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    refreshToken();\r\n  }, []);\r\n\r\n  return (\r\n    <ReduxProvider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <>\r\n          <SnackbarProvider maxSnack={2} preventDuplicate>\r\n            <CssBaseline />\r\n            <Routes />\r\n          </SnackbarProvider>\r\n        </>\r\n      </PersistGate>\r\n    </ReduxProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\services\\localStorage.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Routes.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\services\\api.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\index.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\history.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\PageLayout\\PageLayout.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserLogout\\UserLogout.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserRegister\\UserRegister.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserLogout\\UserLogoutError.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserLogin\\UserLogin.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserResetPassword\\UserResetPassword.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\UserDownload\\UserDownload.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\NotFound\\NotFound.js",["340","341"],"import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  image: {\r\n    marginTop: theme.spacing(8),\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    maxWidth: \"400px\",\r\n    maxHeight: \"250px\",\r\n    height: \"100%\",\r\n    borderRadius: \"10px\"\r\n  }\r\n}));\r\n\r\nfunction NotFound() {\r\n  const classes = useStyles();\r\n  return <img className={classes.image} src=\"/assets/404.jpg\" />;\r\n}\r\n\r\nexport default NotFound;\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Contact\\Contact.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Scheduling\\Scheduling.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Profile\\Profile.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\User\\Reports\\Reports.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Home\\Home.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\District\\District.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\City\\CityServices.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\City\\City.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Client\\Client.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Region\\Region.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Broker\\Broker.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Photographer\\Horary.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Photographer\\Photographer.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Reports\\Reports.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Scheduling\\Scheduling.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Admin\\Service\\Service.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\Rescheduling.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\Scheduling.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\reducers.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\sagas.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\index.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\store\\actions.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Container.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\LoginRequeredRoute.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\LogoutRequeredRoute.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\AdminRequeredRoute.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserLogout\\LogoutError.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Routes\\ClientRequeredRoute.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserLogout\\Logout.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserDownload\\UserDownload.js",["342","343","344","345","346"],"import React, { useEffect, useState } from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\nimport api from \"../../services/api\";\r\nimport { withSnackbar } from \"notistack\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100vw\",\r\n      marginTop: theme.spacing(8),\r\n    },\r\n  },\r\n  imgDialog: {\r\n    width: \"60%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\",\r\n      paddingTop: theme.spacing(8),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction UserDownload({ enqueueSnackbar, clientCode }) {\r\n  const classes = useStyles(),\r\n    { uploadType, folderName, dbCode } = useParams();\r\n\r\n  useEffect(() => {\r\n    downlaodZipFile(uploadType, folderName, dbCode);\r\n  }, []);\r\n\r\n  async function downlaodZipFile(uploadType, folderName, SchedulingId) {\r\n\r\n    await api.put(`/scheduling/${SchedulingId}`, { downloaded: 1 });\r\n    var responseZip = await api.get(\"/storages/storage/\" + uploadType + \"/folder/\" + folderName + \"/zip\")\r\n    window.open(\"https://zipper.sheephouse.com.br\" + \"/?ref=\" + responseZip.data.result, \"_blank\")\r\n  }\r\n\r\n  return (\r\n    <div className={classes.main}>\r\n      <img\r\n        src=\"../../../../assets/dicas_descompactar_sheephouse.jpg\"\r\n        alt=\"Sheep House\"\r\n        className={classes.imgDialog}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withSnackbar(UserDownload);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\SidebarLayout.js",["347"],"import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nimport Sidebar from \"./Sidebar\";\r\nimport Sideitem from \"./Sideitem\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nconst SidebarLayout = ({ isUserAdmin }) => {\r\n  const [maintenance, setMaintenance] = useState({});\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n  }, []);\r\n\r\n  async function handleLoad() {\r\n    await api.get(\"/configuration/1\").then((response) => {\r\n      setMaintenance(response.data[0].maintenance);\r\n    });\r\n  }\r\n\r\n  async function handleMaintenance() {\r\n    setMaintenance(!maintenance);\r\n\r\n    await api\r\n      .put(`/configuration/1`, { maintenance: !maintenance })\r\n      .then((response) => {\r\n        handleLoad();\r\n      });\r\n  }\r\n\r\n  if (isUserAdmin) {\r\n    return (\r\n      <Sidebar>\r\n        <Sideitem link=\"/admin/home\" icon=\"home\" label=\"Início\" />\r\n        <Sideitem link=\"/scheduling\" icon=\"event\" label=\"Agendamentos\" />\r\n        <Divider />\r\n        <Sideitem link=\"/admin/client\" icon=\"face\" label=\"Clientes\" />\r\n        <Sideitem\r\n          link=\"/admin/broker\"\r\n          icon=\"account_balance\"\r\n          label=\"Imobiliárias\"\r\n        />\r\n        <Divider />\r\n        <Sideitem link=\"/admin/district\" icon=\"apartment\" label=\"Bairros\" />\r\n        <Sideitem link=\"/admin/city\" icon=\"map\" label=\"Cidades\" />\r\n        <Sideitem link=\"/admin/region\" icon=\"terrain\" label=\"Regiões\" />\r\n        <Divider />\r\n        <Sideitem link=\"/admin/service\" icon=\"camera_alt\" label=\"Serviços\" />\r\n        <Sideitem link=\"/admin/photographer\" icon=\"person\" label=\"Fotógrafos\" />\r\n        <Divider />\r\n        <Sideitem link=\"/logout\" icon=\"exit_to_app\" label=\"Sair\" />\r\n        <List>\r\n          <ListItem>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={maintenance}\r\n                  onChange={handleMaintenance}\r\n                  name=\"maintenance\"\r\n                  defaultChecked\r\n                  color=\"default\"\r\n                  inputProps={{ \"aria-label\": \"checkbox with default color\" }}\r\n                />\r\n              }\r\n              style={{ color: \"#fff\" }}\r\n              label=\"Manutenção\"\r\n            />\r\n          </ListItem>\r\n        </List>\r\n      </Sidebar>\r\n    );\r\n  } else {\r\n    return (\r\n      <Sidebar>\r\n        <Sideitem link=\"/home\" icon=\"home\" label=\"Home\" />\r\n        <Divider />\r\n        <Sideitem\r\n          link=\"/scheduling\"\r\n          icon=\"photo_library\"\r\n          label=\"Minhas Sessões\"\r\n        />\r\n        <Sideitem link=\"/contacts\" icon=\"contacts\" label=\"Informações\" />\r\n        <Divider />\r\n        <Sideitem link=\"/profile\" icon=\"person\" label=\"Perfil\" />\r\n        <Divider />\r\n        <Sideitem link=\"/logout\" icon=\"exit_to_app\" label=\"Sair\" />\r\n      </Sidebar>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isUserAdmin: state.isUserAdmin,\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(SidebarLayout);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Navbar.js",["348"],"import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { openMenu, userLogout } from \"../../store/actions\";\r\nimport history from \"../../history\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1\r\n    },\r\n    menuButton: {\r\n      marginLeft: theme.spacing(2),\r\n      marginRight: theme.spacing(2)\r\n    },\r\n    title: {\r\n      flexGrow: 1\r\n    }\r\n  })\r\n);\r\n\r\nconst Navbar = ({\r\n  isUserLogged,\r\n  onOpenMenu,\r\n  onUserLogout,\r\n  enqueueSnackbar\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  if (isUserLogged) {\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar color=\"primary\" position=\"fixed\">\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              onClick={() => {\r\n                onOpenMenu();\r\n              }}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Sheep House\r\n            </Typography>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              onClick={() => {\r\n                onUserLogout();\r\n                localStorage.removeItem(\"userToken\");\r\n                localStorage.removeItem(\"refreshToken\");\r\n                localStorage.removeItem(\"userEmail\");\r\n                localStorage.removeItem(\"userPass\");\r\n                enqueueSnackbar(\"Usuário desconectado!\", {\r\n                  variant: \"success\",\r\n                  autoHideDuration: 5000,\r\n                  anchorOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"center\"\r\n                  }\r\n                });\r\n              }}\r\n            >\r\n              <ExitToAppIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isUserLogged: state.isUserLogged\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onOpenMenu: () => dispatch(openMenu()),\r\n    onUserLogout: () => dispatch(userLogout())\r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default compose(withSnackbar, withConnect)(Navbar);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserResetPassword\\ResetPassword.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Contact\\Contact.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\City\\CityServices.js",["349","350","351","352","353","354","355","356"],"import React, { useEffect, useState } from \"react\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport history from \"../../../history\";\r\nimport api from \"../../../services/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(4),\r\n    marginBottom: theme.spacing(4),\r\n    padding: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minWidth: \"300px\",\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(4),\r\n  },\r\n  grid: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction CityServices({ enqueueSnackbar }) {\r\n  const { city_id } = useParams();\r\n  const classes = useStyles();\r\n  const [city, setCity] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n  }, []);\r\n\r\n  async function handleLoad() {\r\n    await api.get(`/city/${city_id}`).then(async (response) => {\r\n      const city = response.data[0];\r\n      setCity(city);\r\n\r\n      await api.get(\"/service\").then((response) => {\r\n        let services = response.data;\r\n\r\n        services.map((service) => {\r\n          service.checked = false;\r\n          city.services.map((cityServ) => {\r\n            if (cityServ.id == service.id) service.checked = true;\r\n          });\r\n        });\r\n\r\n        setServices(response.data);\r\n      });\r\n    });\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    let codServicos = [];\r\n\r\n    services.map((service) => {\r\n      if (service.checked) {\r\n        codServicos.push(service.id);\r\n      }\r\n    });\r\n\r\n    await api\r\n      .put(`/city/${city_id}`, { services: codServicos })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Registro atualizado com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n\r\n        handleLoad();\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao atualizar registro!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Typography className={classes.title} component=\"h5\" variant=\"h5\">\r\n        Serviços\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        {services.map((service) => {\r\n          return (\r\n            <Grid className={classes.grid} item xs={12} key={service.id}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={service.checked}\r\n                    onChange={(event) => {\r\n                      let newServices = services;\r\n\r\n                      newServices.map((item) => {\r\n                        if (item.id == event.target.value) {\r\n                          if (item.checked) {\r\n                            item.checked = false;\r\n                          } else {\r\n                            item.checked = true;\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      setServices([...newServices]);\r\n                    }}\r\n                    name={`services[${service.id}]`}\r\n                    id={`service${service.id}`}\r\n                    color=\"primary\"\r\n                    value={service.id}\r\n                  />\r\n                }\r\n                label={service.name}\r\n              />\r\n            </Grid>\r\n          );\r\n        })}\r\n\r\n        <Grid item xs={12}>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.submit}\r\n          >\r\n            Salvar\r\n          </Button>\r\n          <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              history.push(\"/admin/city\");\r\n            }}\r\n          >\r\n            Voltar\r\n          </Button>\r\n        </Grid>\r\n      </form>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default withSnackbar(CityServices);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Client\\Client.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Region\\Region.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\City\\City.js",["357","358"],"import React, { useEffect, useState } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport api from \"../../../services/api\";\r\n\r\nimport history from \"../../../history\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 375,\r\n      marginTop: theme.spacing(8),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction City({ enqueueSnackbar }) {\r\n  const classes = useStyles();\r\n  const [cities, setCities] = useState([]);\r\n  const columns = [\r\n    { title: \"Nome\", field: \"name\", defaultSort: \"asc\" },\r\n    {\r\n      title: \"Serviços\",\r\n      field: \"services\",\r\n      editable: \"never\",\r\n      render: (rowData) => {\r\n        let services = \"\";\r\n        rowData.services.map((service) => {\r\n          if (services != \"\") services += \", \";\r\n\r\n          services += service.name;\r\n        });\r\n        return services;\r\n      },\r\n    },\r\n    { title: \"Ativo\", field: \"active\", type: \"boolean\", editable: \"onUpdate\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n  }, []);\r\n\r\n  async function handleLoad() {\r\n    await api.get(\"/city\").then((response) => {\r\n      setCities(response.data);\r\n    });\r\n  }\r\n\r\n  async function handleAdd(newData) {\r\n    const { name, active } = newData;\r\n\r\n    if (!name) {\r\n      enqueueSnackbar(\"Informe o nome da cidade!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .post(`/city`, { name, active })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Registro cadastrada com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n\r\n        handleLoad();\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao cadastrar registro!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleUpdate(newData, oldData) {\r\n    const { name, id, active } = newData;\r\n\r\n    if (!name) {\r\n      enqueueSnackbar(\"Informe o nome da cidade!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .put(`/city/${id}`, { name, active })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Registro atualizado com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n\r\n        handleLoad();\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao atualizar registro!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.main}>\r\n      <MaterialTable\r\n        title=\"Cidades\"\r\n        columns={columns}\r\n        data={cities}\r\n        editable={{\r\n          onRowAdd: (newData) =>\r\n            new Promise((resolve) => {\r\n              resolve();\r\n              handleAdd(newData);\r\n            }),\r\n          onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve) => {\r\n              resolve();\r\n              handleUpdate(newData, oldData);\r\n            }),\r\n        }}\r\n        actions={[\r\n          (rowData) => ({\r\n            icon: \"work\",\r\n            tooltip: \"Editar serviços\",\r\n            onClick: (event, rowData) => {\r\n              history.push(`/admin/city/${rowData.id}/services/`);\r\n            },\r\n          }),\r\n        ]}\r\n        localization={{\r\n          body: {\r\n            editRow: {\r\n              saveTooltip: \"Salvar\",\r\n              cancelTooltip: \"Cancelar\",\r\n              deleteText: \"Deseja excluir este registro?\",\r\n            },\r\n            filterRow: {\r\n              filterTooltip: \"Filtro\",\r\n            },\r\n            addTooltip: \"Adicionar\",\r\n            deleteTooltip: \"Deletar\",\r\n            editTooltip: \"Editar\",\r\n            emptyDataSourceMessage: \"Sem registros para mostrar\",\r\n          },\r\n          header: {\r\n            actions: \"\",\r\n          },\r\n          toolbar: {\r\n            searchTooltip: \"Pesquisar\",\r\n            searchPlaceholder: \"Pesquisar\",\r\n          },\r\n          pagination: {\r\n            labelRowsSelect: \"Registros\",\r\n            labelRowsPerPage: \"Registros por página\",\r\n            firstAriaLabel: \"Primeira Página\",\r\n            firstTooltip: \"Primeira Página\",\r\n            previousAriaLabel: \"Página Anterior\",\r\n            previousTooltip: \"Página Anterior\",\r\n            nextAriaLabel: \"Página Seguinte\",\r\n            nextTooltip: \"Página Seguinte\",\r\n            lastAriaLabel: \"Última Página\",\r\n            lastTooltip: \"Última Página\",\r\n          },\r\n        }}\r\n        options={{\r\n          search: false,\r\n          pageSize: 20,\r\n          filtering: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withSnackbar(City);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Profile\\Profile.js",["359"],"import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { userLogout } from \"../../../store/actions\";\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport api from \"../../../services/api\";\r\nimport history from \"../../../history\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(4),\r\n    padding: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginTop: theme.spacing(6),\r\n    },\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nfunction Profile({ enqueueSnackbar, clientCode, onUserLogout }) {\r\n  const classes = useStyles();\r\n\r\n  const [name, setName] = useState(\"\"),\r\n    [email, setEmail] = useState(\"\"),\r\n    [phone, setPhone] = useState(\"\"),\r\n    [client, setClient] = useState([]);\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n  }, []);\r\n\r\n  async function handleLoad() {\r\n    await api.get(`/client/${clientCode}`).then((response) => {\r\n      setName(response.data[0].name);\r\n      setEmail(response.data[0].user.email);\r\n      setPhone(response.data[0].phone);\r\n      setClient(response.data[0]);\r\n    });\r\n  }\r\n\r\n  async function handleForgotPassword() {\r\n    await api\r\n      .post(\"/forgotPassword\", { email: client.user.email })\r\n      .then(async (response) => {\r\n        enqueueSnackbar(\r\n          \"Acesse seu email para trocar a senha!\\nVerifique a caixa de SPAM.\",\r\n          {\r\n            variant: \"success\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          }\r\n        );\r\n\r\n        onUserLogout();\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas ao enviar email de troca de senha!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    if (!name) {\r\n      enqueueSnackbar(\"Informe o nome!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!email) {\r\n      enqueueSnackbar(\"Informe o email para prosseguir!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!phone) {\r\n      enqueueSnackbar(\"Informe o telefone!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\r\n      enqueueSnackbar(\"Informe um email válido para prosseguir!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .put(`/client/${clientCode}`, { name, phone, email })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Informações alteradas com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas alterar informações!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper}>\r\n        <Typography className={classes.title} component=\"h1\" variant=\"h5\">\r\n          Edite seus dados\r\n        </Typography>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              autoComplete=\"name\"\r\n              name=\"userName\"\r\n              variant=\"outlined\"\r\n              required\r\n              fullWidth\r\n              id=\"name\"\r\n              label=\"Nome\"\r\n              autoFocus\r\n              value={name}\r\n              onChange={(event) => setName(event.target.value)}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              value={email}\r\n              onChange={(event) => {\r\n                setEmail(event.target.value);\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              required\r\n              fullWidth\r\n              id=\"phone\"\r\n              label=\"Telefone (xx)xxxxx-xxxx\"\r\n              name=\"phone\"\r\n              autoComplete=\"phone\"\r\n              value={phone}\r\n              onChange={(event) => setPhone(event.target.value)}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Editar\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Button\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              fullWidth\r\n              onClick={handleForgotPassword}\r\n            >\r\n              Alterar a senha\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  clientCode: state.clientCode,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onUserLogout: () => {\r\n      dispatch(userLogout());\r\n    },\r\n  };\r\n};\r\n\r\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default compose(withSnackbar, withConnect)(Profile);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\District\\District.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Broker\\Broker.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Service\\Service.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserRegister\\SignUp.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\UserLogin\\SignIn.js",["360"],"import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Link as LinkMaterial } from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { compose } from \"redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { userLogin, userClient, userAdmin } from \"../../store/actions\";\r\n\r\nimport api from \"../../services/api\";\r\nimport history from \"../../history\";\r\n\r\nimport LocalStorage from \"../../services/localStorage.js\";\r\nconst localStorageJs = LocalStorage.getService();\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(6),\r\n    padding: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction SignIn({ enqueueSnackbar, onUserLogin, onUserClient, onUserAdmin }) {\r\n  const classes = useStyles(),\r\n    [email, setEmail] = useState(localStorage.getItem(\"userEmail\")),\r\n    [password, setPassword] = useState(localStorage.getItem(\"userPass\"));\r\n  useEffect(() => {\r\n    if (email && password) {\r\n      handleSubmit();\r\n    }\r\n  }, []);\r\n\r\n  async function handleSubmit(event) {\r\n    if (event) event.preventDefault();\r\n\r\n    if (!email) {\r\n      enqueueSnackbar(\"Informe o email!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\r\n      enqueueSnackbar(\"Informe um email válido para prosseguir!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!password) {\r\n      enqueueSnackbar(\"Informe a senha!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .post(\"/sessions\", { email, password })\r\n      .then(async (response) => {\r\n        localStorageJs.setToken(response.data);\r\n\r\n        await api\r\n          .get(\"/user\", {\r\n            headers: { Authorization: `Bearer ${response.data.token}` },\r\n          })\r\n          .then(async (response) => {\r\n            if (response.data.admin) {\r\n              onUserAdmin();\r\n              onUserLogin();\r\n\r\n              enqueueSnackbar(`Seja bem vindo!`, {\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n                anchorOrigin: {\r\n                  vertical: \"top\",\r\n                  horizontal: \"center\",\r\n                },\r\n              });\r\n\r\n              localStorage.setItem(\"userEmail\", email);\r\n              localStorage.setItem(\"userPass\", password);\r\n\r\n              history.push(\"/admin/home\");\r\n\r\n              return;\r\n            }\r\n\r\n            await api\r\n              .get(`/client/user/${response.data.id}`)\r\n              .then((response) => {\r\n                if (response.data[0]) {\r\n                  if (response.data[0].id) {\r\n                    onUserClient(response.data[0].id);\r\n                    onUserLogin();\r\n\r\n                    enqueueSnackbar(\r\n                      `Seja bem vindo ${response.data[0].name}!`,\r\n                      {\r\n                        variant: \"success\",\r\n                        autoHideDuration: 5000,\r\n                        anchorOrigin: {\r\n                          vertical: \"top\",\r\n                          horizontal: \"center\",\r\n                        },\r\n                      }\r\n                    );\r\n\r\n                    history.push(\"/home\");\r\n\r\n                    return;\r\n                  }\r\n                } else {\r\n                  enqueueSnackbar(\r\n                    \"Obrigado pelo seu cadastro.\\nIremos ativar o seu cadastro em breve!\",\r\n                    {\r\n                      variant: \"error\",\r\n                      autoHideDuration: 5000,\r\n                      anchorOrigin: {\r\n                        vertical: \"top\",\r\n                        horizontal: \"center\",\r\n                      },\r\n                    }\r\n                  );\r\n                }\r\n              });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\r\n          \"Email e senha informados não correspondem a nenhum usuário!\",\r\n          {\r\n            variant: \"error\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          }\r\n        );\r\n      });\r\n  }\r\n\r\n  async function handleForgotPassword() {\r\n    if (!email) {\r\n      enqueueSnackbar(\"Informe o email!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\r\n      enqueueSnackbar(\"Informe um email válido para prosseguir!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .post(\"/forgotPassword\", { email })\r\n      .then(async (response) => {\r\n        enqueueSnackbar(\r\n          \"Acesse seu email para trocar a senha!\\nVerifique a caixa de SPAM.\",\r\n          {\r\n            variant: \"success\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas ao enviar email de troca de senha!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          <img src=\"./assets/logo.png\" alt=\"Sheep House\" height={100} />\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Senha\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={password}\r\n            onChange={(event) => setPassword(event.target.value)}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Entrar\r\n          </Button>\r\n          <Grid container justify=\"center\">\r\n            <LinkMaterial component={Link} to=\"/signup\" variant=\"body2\">\r\n              Não possui uma conta? Cadastre-se!\r\n            </LinkMaterial>\r\n          </Grid>\r\n          <br />\r\n          <Grid container justify=\"center\">\r\n            <LinkMaterial onClick={handleForgotPassword} variant=\"body2\">\r\n              Esqueci minha senha!\r\n            </LinkMaterial>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onUserLogin: () => {\r\n      dispatch(userLogin());\r\n    },\r\n    onUserClient: (id) => {\r\n      dispatch(userClient(id));\r\n    },\r\n    onUserAdmin: () => {\r\n      dispatch(userAdmin());\r\n    },\r\n  };\r\n};\r\n\r\nconst withConnect = connect(null, mapDispatchToProps);\r\n\r\nexport default compose(withSnackbar, withConnect)(SignIn);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Home\\Home.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Reports\\Reports.js",["361","362","363","364","365","366","367","368","369","370","371","372"],"import React, { useEffect, useState } from \"react\";\r\nimport MaterialTable, { MTableCell } from \"material-table\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport api from \"../../../services/api\";\r\n\r\nimport * as FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nimport { withSnackbar } from \"notistack\";\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport history from \"../../../history\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100vw\",\r\n      marginTop: theme.spacing(8),\r\n    },\r\n  },\r\n  button: {\r\n    backgroundColor: \"#43a047\",\r\n    color: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"green\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Reports({ enqueueSnackbar, clientCode }) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const small = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const [Schedulings, setScheduling] = useState([]),\r\n    [Photographers, setPhotographers] = useState([]),\r\n    [Horaries, setHoraries] = useState([]),\r\n    columns = [\r\n      {\r\n        title: \"Serviço\",\r\n        field: \"tipo\",\r\n        lookup: { 0: \"Fotografia\", 1: \"Filmagem/Drone\", 2: \"Tour 360°\" },\r\n      },\r\n      {\r\n        title: \"Dia\",\r\n        field: \"day\",\r\n        defaultSort: \"asc\",\r\n        type: \"numeric\",\r\n        cellStyle: {\r\n          textAlign: \"right\",\r\n        },\r\n        filterCellStyle: {\r\n          paddingLeft: 2,\r\n          paddingRight: 2,\r\n        },\r\n      },\r\n      {\r\n        title: \"Mês\",\r\n        field: \"month\",\r\n        defaultSort: \"asc\",\r\n        lookup: {\r\n          1: \"Janeiro\",\r\n          2: \"Fevereiro\",\r\n          3: \"Março\",\r\n          4: \"Abril\",\r\n          5: \"Maio\",\r\n          6: \"Junho\",\r\n          7: \"Julho\",\r\n          8: \"Agosto\",\r\n          9: \"Setembro\",\r\n          10: \"Outubro\",\r\n          11: \"Novembro\",\r\n          12: \"Dezembro\",\r\n          \"\": \"Administrador irá agendar\",\r\n        },\r\n      },\r\n      {\r\n        title: \"Ano\",\r\n        field: \"year\",\r\n        defaultSort: \"asc\",\r\n        filterPlaceholder: \"9999\",\r\n        cellStyle: {\r\n          textAlign: \"right\",\r\n        },\r\n        filterCellStyle: {\r\n          paddingLeft: 2,\r\n          paddingRight: 2,\r\n        },\r\n      },\r\n      {\r\n        title: \"Horario\",\r\n        field: \"horary_id\",\r\n        defaultSort: \"asc\",\r\n        lookup: { ...Horaries },\r\n        cellStyle: {\r\n          textAlign: \"center\",\r\n        },\r\n      },\r\n      {\r\n        title: \"Fotografo\",\r\n        field: \"photographer_id\",\r\n        render: (rowData) => {\r\n          const name = rowData.photographer.name.split(\" \");\r\n          return name[0];\r\n        },\r\n        lookup: { ...Photographers },\r\n        hidden: small,\r\n      },\r\n      {\r\n        title: \"Status\",\r\n        field: \"status\",\r\n        lookup: {\r\n          0: \"Cancelado\",\r\n          1: \"Pendente\",\r\n          2: \"Ativo\",\r\n          3: \"Enviado\",\r\n          4: \"Concluído\",\r\n        },\r\n        hidden: small,\r\n      },\r\n      {\r\n        title: \"Endereço\",\r\n        field: \"address\",\r\n        hidden: true,\r\n      },\r\n      {\r\n        title: \"Complemento\",\r\n        field: \"complement\",\r\n        hidden: true,\r\n      },\r\n    ];\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n    handleLoadLookup();\r\n  }, []);\r\n\r\n  async function handleLoad() {\r\n    await api.get(`/Scheduling/byclient/${clientCode}`).then((response) => {\r\n      let schedulingsComplete = [];\r\n\r\n      response.data.forEach((item) => {\r\n        if (item.date) {\r\n          const date = item.date.split(\"-\");\r\n          item.day = date[2];\r\n          item.month = parseInt(date[1]);\r\n          item.year = parseInt(date[0]);\r\n        } else {\r\n          item.day = \"\";\r\n          item.month = \"\";\r\n          item.year = \"\";\r\n        }\r\n\r\n        if (!item.actived) {\r\n          item.status = 0;\r\n        } else if (item.downloaded) {\r\n          item.status = 4;\r\n        } else if (item.completed) {\r\n          item.status = 3;\r\n        } else if (\r\n          new Date(`${item.date}T00:00:00-03:00`) <= new Date() &&\r\n          new Date(`${item.date}T23:59:59-03:00`) >= new Date()\r\n        ) {\r\n          item.status = 1;\r\n        } else {\r\n          item.status = 2;\r\n        }\r\n\r\n        if (item.drone) {\r\n          item.tipo = 1;\r\n        } else if (item.tour360) {\r\n          item.tipo = 2;\r\n        } else {\r\n          item.tipo = 0;\r\n        }\r\n\r\n        schedulingsComplete.push(item);\r\n      });\r\n\r\n      setScheduling(schedulingsComplete);\r\n    });\r\n  }\r\n\r\n  async function handleLoadLookup() {\r\n    await api.get(\"/photographer\").then((response) => {\r\n      let data = [];\r\n\r\n      response.data.map((item) => {\r\n        return (data[item.id] = item.name);\r\n      });\r\n\r\n      setPhotographers(data);\r\n    });\r\n\r\n    await api.get(\"/horary/active\").then((response) => {\r\n      let data = [];\r\n\r\n      response.data.map((item) => {\r\n        return (data[item.id] = item.time);\r\n      });\r\n\r\n      setHoraries(data);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.main}>\r\n      <MaterialTable\r\n        title=\"Relatório\"\r\n        columns={columns}\r\n        data={Schedulings}\r\n        detailPanel={[\r\n          {\r\n            tooltip: \"Mais informações\",\r\n            render: (rowData) => {\r\n              return (\r\n                <div style={{ margin: \"0 50px\" }}>\r\n                  {small && (\r\n                    <p>\r\n                      <strong>Status:</strong>\r\n                      {rowData.status == 0\r\n                        ? \" Cancelado\"\r\n                        : rowData.status == 1\r\n                        ? \" Pendente\"\r\n                        : rowData.status == 2\r\n                        ? \" Ativo\"\r\n                        : rowData.status == 3\r\n                        ? \" Enviado\"\r\n                        : \" Concluído\"}\r\n                    </p>\r\n                  )}\r\n                  {small && (\r\n                    <p>\r\n                      <strong>Fotógrafo:</strong>\r\n                      {\" \" + rowData.photographer.name}\r\n                    </p>\r\n                  )}\r\n                  <p>\r\n                    <strong>Endereço:</strong> {rowData.address}\r\n                  </p>\r\n                  <p>\r\n                    <strong>Complemento:</strong> {rowData.complement}\r\n                  </p>\r\n                  <p>\r\n                    <strong>Observações:</strong> {rowData.comments}\r\n                  </p>\r\n                  {rowData.date_cancel && (\r\n                    <p>\r\n                      <strong>Cancelamento:</strong>\r\n                      {\" \" +\r\n                        new Date(rowData.date_cancel)\r\n                          .toISOString()\r\n                          .split(\"T\")[0]\r\n                          .split(\"-\")[2] +\r\n                        \"/\" +\r\n                        new Date(rowData.date_cancel)\r\n                          .toISOString()\r\n                          .split(\"T\")[0]\r\n                          .split(\"-\")[1] +\r\n                        \"/\" +\r\n                        new Date(rowData.date_cancel)\r\n                          .toISOString()\r\n                          .split(\"T\")[0]\r\n                          .split(\"-\")[0] +\r\n                        \" \" +\r\n                        new Date(rowData.date_cancel)\r\n                          .toTimeString()\r\n                          .split(\" \")[0]}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              );\r\n            },\r\n          },\r\n        ]}\r\n        localization={{\r\n          body: {\r\n            filterRow: {\r\n              filterTooltip: \"Filtro\",\r\n            },\r\n            emptyDataSourceMessage: \"Sem registros para mostrar\",\r\n          },\r\n          header: {\r\n            actions: \"\",\r\n          },\r\n          toolbar: {\r\n            exportTitle: \"Exportar\",\r\n            exportAriaLabel: \"Exportar\",\r\n            exportName: \"Exportar Excel\",\r\n          },\r\n        }}\r\n        icons={{\r\n          Export: () => (\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n            >\r\n              Relatório\r\n            </Button>\r\n          ),\r\n        }}\r\n        options={{\r\n          search: false,\r\n          pageSize: 20,\r\n          exportButton: true,\r\n          filtering: true,\r\n          paging: false,\r\n          exportCsv: (columns, dataTable) => {\r\n            let data = [];\r\n\r\n            dataTable.forEach(async (item) => {\r\n              data.push({\r\n                Serviço: item.drone\r\n                  ? \"Filmagem/Drone\"\r\n                  : item.tour360\r\n                  ? \"Tour 360°\"\r\n                  : \"Fotografia\",\r\n                Dia: item.day,\r\n                Mês: item.month,\r\n                Ano: item.year,\r\n                Fotógrafo: item.photographer.name,\r\n                Status:\r\n                  item.status == 0\r\n                    ? \"Cancelado\"\r\n                    : item.status == 1\r\n                    ? \"Pendente\"\r\n                    : item.status == 2\r\n                    ? \"Ativo\"\r\n                    : item.status == 3\r\n                    ? \"Enviado\"\r\n                    : \"Concluído\",\r\n                Endereço: item.address,\r\n                Complemento: item.complement,\r\n              });\r\n            });\r\n\r\n            setTimeout(() => {\r\n              const fileType =\r\n                \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\r\n              const fileExtension = \".xlsx\";\r\n\r\n              const ws = XLSX.utils.json_to_sheet(data);\r\n              const wb = {\r\n                Sheets: { Relatório: ws },\r\n                SheetNames: [\"Relatório\"],\r\n              };\r\n              const excelBuffer = XLSX.write(wb, {\r\n                bookType: \"xlsx\",\r\n                type: \"array\",\r\n              });\r\n              const dataExport = new Blob([excelBuffer], { type: fileType });\r\n              FileSaver.saveAs(\r\n                dataExport,\r\n                \"Relatório-Sheephouse\" + fileExtension\r\n              );\r\n            }, 5000);\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  clientCode: state.clientCode,\r\n});\r\n\r\nconst withConnect = connect(mapStateToProps, {});\r\n\r\nexport default compose(withSnackbar, withConnect)(Reports);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Photographer\\Photographer.js",["373"],"import React, { useEffect, useState } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport api from \"../../../services/api\";\r\nimport history from \"../../../history\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 375,\r\n      marginTop: theme.spacing(8),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Photographer({ enqueueSnackbar }) {\r\n  const classes = useStyles();\r\n  const [photographers, setPhotographers] = useState([]);\r\n  const [regions, setRegions] = useState([]);\r\n  const columns = [\r\n    { title: \"Nome\", field: \"name\", defaultSort: \"asc\" },\r\n    { title: \"E-mail\", field: \"email\" },\r\n    { title: \"Região\", field: \"region_id\", lookup: { ...regions } },\r\n    { title: \"Intervalo (Minutos)\", field: \"intervalo\" },\r\n    { title: \"Sábado\", field: \"sabado\", type: \"boolean\" },\r\n    { title: \"Drone\", field: \"drone\", type: \"boolean\" },\r\n    { title: \"Ativo\", field: \"active\", type: \"boolean\", editable: \"onUpdate\" },\r\n  ];\r\n\r\n  const queryString = window.location.search,\r\n    urlParams = new URLSearchParams(queryString),\r\n    code = urlParams.get(\"code\"),\r\n    id = localStorage.getItem(\"photographer_id\");\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n    handleLoadLookup();\r\n\r\n    if (code && id) {\r\n      handleFirstAuth(code, id);\r\n    }\r\n  }, []);\r\n\r\n  async function handleAuthUrl() {\r\n    await api.post(`/google/auth/url`, {}).then(async (response) => {\r\n      window.open(response.data);\r\n    });\r\n  }\r\n\r\n  async function handleFirstAuth(code, id) {\r\n    await api\r\n      .post(`/google/auth/first`, { code, id })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Fotográfo autenticado com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n\r\n        handleLoad();\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao autenticar fotográfo!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleLoadLookup() {\r\n    await api.get(\"/region\").then((response) => {\r\n      let data = [];\r\n\r\n      response.data.map((item) => {\r\n        return (data[item.id] = item.name);\r\n      });\r\n\r\n      setRegions(data);\r\n    });\r\n  }\r\n\r\n  async function handleLoad() {\r\n    await api.get(\"/photographer\").then((response) => {\r\n      setPhotographers(response.data);\r\n    });\r\n  }\r\n\r\n  async function handleAdd(newData) {\r\n    const {\r\n      name,\r\n      email,\r\n      intervalo,\r\n      sabado,\r\n      drone,\r\n      region_id,\r\n      active,\r\n    } = newData;\r\n\r\n    if (!name) {\r\n      enqueueSnackbar(\"Informe o nome do fotógrafo!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!email) {\r\n      enqueueSnackbar(\"Informe o e-mail do fotógrafo!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!region_id) {\r\n      enqueueSnackbar(\"Informe a região!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .post(`/photographer`, {\r\n        name,\r\n        email,\r\n        sabado,\r\n        intervalo,\r\n        drone,\r\n        region_id,\r\n        active,\r\n      })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Registro cadastrada com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n\r\n        localStorage.setItem(\"photographer_id\", response.data.id);\r\n        handleLoad();\r\n        handleAuthUrl();\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao cadastrar registro!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleUpdate(newData, oldData) {\r\n    const {\r\n      name,\r\n      email,\r\n      sabado,\r\n      drone,\r\n      intervalo,\r\n      region_id,\r\n      id,\r\n      active,\r\n    } = newData;\r\n\r\n    if (!name) {\r\n      enqueueSnackbar(\"Informe o nome do fotógrafo!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!email) {\r\n      enqueueSnackbar(\"Informe o e-mail do fotógrafo!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!region_id) {\r\n      enqueueSnackbar(\"Informe a região!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .put(`/photographer/${id}`, {\r\n        name,\r\n        email,\r\n        sabado,\r\n        intervalo,\r\n        drone,\r\n        region_id,\r\n        active,\r\n      })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Registro atualizado com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n\r\n        handleLoad();\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao atualizar registro!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className={classes.main}>\r\n      <MaterialTable\r\n        title=\"Fotógrafos\"\r\n        columns={columns}\r\n        data={photographers}\r\n        editable={{\r\n          onRowAdd: (newData) =>\r\n            new Promise((resolve) => {\r\n              resolve();\r\n              handleAdd(newData);\r\n            }),\r\n          onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve) => {\r\n              resolve();\r\n              handleUpdate(newData, oldData);\r\n            }),\r\n        }}\r\n        actions={[\r\n          (rowData) => ({\r\n            icon: \"timer\",\r\n            tooltip: \"Editar horários\",\r\n            onClick: (event, rowData) => {\r\n              history.push(`/admin/photographer/${rowData.id}/horary/`);\r\n            },\r\n          }),\r\n        ]}\r\n        localization={{\r\n          body: {\r\n            editRow: {\r\n              saveTooltip: \"Salvar\",\r\n              cancelTooltip: \"Cancelar\",\r\n              deleteText: \"Deseja excluir este registro?\",\r\n            },\r\n            filterRow: {\r\n              filterTooltip: \"Filtro\",\r\n            },\r\n            addTooltip: \"Adicionar\",\r\n            deleteTooltip: \"Deletar\",\r\n            editTooltip: \"Editar\",\r\n            emptyDataSourceMessage: \"Sem registros para mostrar\",\r\n          },\r\n          header: {\r\n            actions: \"\",\r\n          },\r\n          toolbar: {\r\n            searchTooltip: \"Pesquisar\",\r\n            searchPlaceholder: \"Pesquisar\",\r\n          },\r\n          pagination: {\r\n            labelRowsSelect: \"Registros\",\r\n            labelRowsPerPage: \"Registros por página\",\r\n            firstAriaLabel: \"Primeira Página\",\r\n            firstTooltip: \"Primeira Página\",\r\n            previousAriaLabel: \"Página Anterior\",\r\n            previousTooltip: \"Página Anterior\",\r\n            nextAriaLabel: \"Página Seguinte\",\r\n            nextTooltip: \"Página Seguinte\",\r\n            lastAriaLabel: \"Última Página\",\r\n            lastTooltip: \"Última Página\",\r\n          },\r\n        }}\r\n        options={{\r\n          search: false,\r\n          pageSize: 20,\r\n          filtering: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withSnackbar(Photographer);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Reports\\Reports.js",["374","375","376","377","378","379","380","381","382","383","384","385","386","387"],"import React, { useEffect, useState } from \"react\";\r\nimport MaterialTable, { MTableCell } from \"material-table\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport * as FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nimport api from \"../../../services/api\";\r\nimport { withSnackbar } from \"notistack\";\r\n\r\nimport history from \"../../../history\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100vw\",\r\n      marginTop: theme.spacing(8),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Reports({ enqueueSnackbar }) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const small = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const [Schedulings, setScheduling] = useState([]),\r\n    [Clients, setClients] = useState([]),\r\n    [Brokers, setBrokers] = useState([]),\r\n    [Photographers, setPhotographers] = useState([]),\r\n    [Horaries, setHoraries] = useState([]),\r\n    columns = [\r\n      {\r\n        title: \"Serviço\",\r\n        field: \"tipo\",\r\n        lookup: { 0: \"Fotografia\", 1: \"Filmagem/Drone\", 2: \"Tour 360°\" },\r\n      },\r\n      {\r\n        title: \"Imobiliária\",\r\n        field: \"client.broker_id\",\r\n        lookup: { ...Brokers },\r\n        hidden: small,\r\n      },\r\n      {\r\n        title: \"Cliente\",\r\n        field: \"clientName\",\r\n        hidden: small,\r\n      },\r\n      {\r\n        title: \"Dia\",\r\n        field: \"day\",\r\n        defaultSort: \"asc\",\r\n        type: \"numeric\",\r\n        cellStyle: {\r\n          textAlign: \"right\",\r\n        },\r\n        filterCellStyle: {\r\n          paddingLeft: 2,\r\n          paddingRight: 2,\r\n        },\r\n      },\r\n      {\r\n        title: \"Mês\",\r\n        field: \"month\",\r\n        lookup: {\r\n          1: \"Janeiro\",\r\n          2: \"Fevereiro\",\r\n          3: \"Março\",\r\n          4: \"Abril\",\r\n          5: \"Maio\",\r\n          6: \"Junho\",\r\n          7: \"Julho\",\r\n          8: \"Agosto\",\r\n          9: \"Setembro\",\r\n          10: \"Outubro\",\r\n          11: \"Novembro\",\r\n          12: \"Dezembro\",\r\n          \"\": \"Administrador irá agendar\",\r\n        },\r\n      },\r\n      {\r\n        title: \"Ano\",\r\n        field: \"year\",\r\n        defaultSort: \"asc\",\r\n        filterPlaceholder: \"9999\",\r\n        cellStyle: {\r\n          textAlign: \"right\",\r\n        },\r\n        filterCellStyle: {\r\n          paddingLeft: 2,\r\n          paddingRight: 2,\r\n        },\r\n      },\r\n      {\r\n        title: \"Horario\",\r\n        field: \"horary\",\r\n        defaultSort: \"asc\",\r\n        cellStyle: {\r\n          textAlign: \"center\",\r\n        },\r\n      },\r\n      {\r\n        title: \"Fotografo\",\r\n        field: \"photographer_id\",\r\n        render: (rowData) => {\r\n          const name = rowData.photographer.name.split(\" \");\r\n          return name[0];\r\n        },\r\n        lookup: { ...Photographers },\r\n        hidden: small,\r\n      },\r\n      {\r\n        title: \"Status\",\r\n        field: \"status\",\r\n        lookup: {\r\n          0: \"Cancelado\",\r\n          1: \"Pendente\",\r\n          2: \"Ativo\",\r\n          3: \"Enviado\",\r\n          4: \"Concluído\",\r\n        },\r\n        hidden: small,\r\n      },\r\n      {\r\n        title: \"Endereço\",\r\n        field: \"address\",\r\n        hidden: true,\r\n      },\r\n      {\r\n        title: \"Complemento\",\r\n        field: \"complement\",\r\n        hidden: true,\r\n      },\r\n    ];\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n    handleLoadLookup();\r\n  }, []);\r\n\r\n  async function handleLoad() {\r\n    await api.get(\"/Scheduling\").then((response) => {\r\n      let schedulingsComplete = [];\r\n\r\n      response.data.forEach((item) => {\r\n        if (item.date) {\r\n          const date = item.date.split(\"-\");\r\n          item.day = date[2];\r\n          item.month = parseInt(date[1]);\r\n          item.year = parseInt(date[0]);\r\n        } else {\r\n          item.day = \"\";\r\n          item.month = \"\";\r\n          item.year = \"\";\r\n        }\r\n\r\n        if (!item.actived) {\r\n          item.status = 0;\r\n        } else if (item.downloaded) {\r\n          item.status = 4;\r\n        } else if (item.completed) {\r\n          item.status = 3;\r\n        } else if (\r\n          new Date(`${item.date}T00:00:00-03:00`) <= new Date() &&\r\n          new Date(`${item.date}T23:59:59-03:00`) >= new Date()\r\n        ) {\r\n          item.status = 1;\r\n        } else {\r\n          item.status = 2;\r\n        }\r\n\r\n        if (item.drone) {\r\n          item.tipo = 1;\r\n        } else if (item.tour360) {\r\n          item.tipo = 2;\r\n        } else {\r\n          item.tipo = 0;\r\n        }\r\n\r\n        item.clientName = item.client.name;\r\n\r\n        schedulingsComplete.push(item);\r\n      });\r\n\r\n      setScheduling(schedulingsComplete);\r\n    });\r\n  }\r\n\r\n  async function handleLoadLookup() {\r\n    await api.get(\"/photographer\").then((response) => {\r\n      let data = [];\r\n\r\n      response.data.map((item) => {\r\n        return (data[item.id] = item.name);\r\n      });\r\n\r\n      setPhotographers(data);\r\n    });\r\n\r\n    await api.get(\"/client\").then((response) => {\r\n      let data = [];\r\n\r\n      response.data.map((item) => {\r\n        if (item.broker) {\r\n          return (data[item.id] = `${item.name} (${item.broker.name})`);\r\n        } else {\r\n          return (data[item.id] = `${item.name}`);\r\n        }\r\n      });\r\n\r\n      setClients(data);\r\n    });\r\n\r\n    await api.get(\"/broker\").then((response) => {\r\n      let data = [];\r\n\r\n      response.data.map((item) => {\r\n        return (data[item.id] = `${item.name}`);\r\n      });\r\n\r\n      setBrokers(data);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.main}>\r\n        <MaterialTable\r\n          title=\"Relatório\"\r\n          columns={columns}\r\n          data={Schedulings}\r\n          detailPanel={[\r\n            {\r\n              tooltip: \"Mais informações\",\r\n              render: (rowData) => {\r\n                return (\r\n                  <div style={{ margin: \"0 50px\" }}>\r\n                    {small && (\r\n                      <p>\r\n                        <strong>Status:</strong>\r\n                        {rowData.status == 0\r\n                          ? \" Cancelado\"\r\n                          : rowData.status == 1\r\n                          ? \" Pendente\"\r\n                          : rowData.status == 2\r\n                          ? \" Ativo\"\r\n                          : rowData.status == 3\r\n                          ? \" Enviado\"\r\n                          : \" Concluído\"}\r\n                      </p>\r\n                    )}\r\n                    {small && (\r\n                      <p>\r\n                        <strong>Fotógrafo:</strong>\r\n                        {\" \" + rowData.photographer.name}\r\n                      </p>\r\n                    )}\r\n                    <p>\r\n                      <strong>Endereço:</strong> {rowData.address}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Complemento:</strong> {rowData.complement}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Observações:</strong> {rowData.comments}\r\n                    </p>\r\n                    {rowData.date_cancel && (\r\n                      <p>\r\n                        <strong>Cancelamento:</strong>\r\n                        {\" \" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toISOString()\r\n                            .split(\"T\")[0]\r\n                            .split(\"-\")[2] +\r\n                          \"/\" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toISOString()\r\n                            .split(\"T\")[0]\r\n                            .split(\"-\")[1] +\r\n                          \"/\" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toISOString()\r\n                            .split(\"T\")[0]\r\n                            .split(\"-\")[0] +\r\n                          \" \" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toTimeString()\r\n                            .split(\" \")[0]}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                );\r\n              },\r\n            },\r\n          ]}\r\n          localization={{\r\n            body: {\r\n              filterRow: {\r\n                filterTooltip: \"Filtro\",\r\n              },\r\n              emptyDataSourceMessage: \"Sem registros para mostrar\",\r\n            },\r\n            header: {\r\n              actions: \"\",\r\n            },\r\n            toolbar: {\r\n              exportTitle: \"Exportar\",\r\n              exportAriaLabel: \"Exportar\",\r\n              exportName: \"Exportar Excel\",\r\n            },\r\n          }}\r\n          options={{\r\n            search: false,\r\n            pageSize: 20,\r\n            exportButton: true,\r\n            filtering: true,\r\n            paging: false,\r\n            exportCsv: (columns, dataTable) => {\r\n              let data = [];\r\n\r\n              dataTable.forEach(async (item) => {\r\n                let brokerName = await api\r\n                  .get(`/broker/${item.client.broker_id}`)\r\n                  .then((response) => {\r\n                    return response.data[0].name;\r\n                  });\r\n\r\n                data.push({\r\n                  Serviço: item.drone\r\n                    ? \"Filmagem/Drone\"\r\n                    : item.tour360\r\n                    ? \"Tour 360°\"\r\n                    : \"Fotografia\",\r\n                  Imobiliária: brokerName,\r\n                  Cliente: item.client.name,\r\n                  Dia: item.day,\r\n                  Mês: item.month,\r\n                  Ano: item.year,\r\n                  Fotógrafo: item.photographer.name,\r\n                  Status:\r\n                    item.status == 0\r\n                      ? \"Cancelado\"\r\n                      : item.status == 1\r\n                      ? \"Pendente\"\r\n                      : item.status == 2\r\n                      ? \"Ativo\"\r\n                      : item.status == 3\r\n                      ? \"Enviado\"\r\n                      : \"Concluído\",\r\n                  DataCancelamento: item.date_cancel\r\n                    ? new Date(item.date_cancel)\r\n                        .toISOString()\r\n                        .split(\"T\")[0]\r\n                        .split(\"-\")[2] +\r\n                      \"/\" +\r\n                      new Date(item.date_cancel)\r\n                        .toISOString()\r\n                        .split(\"T\")[0]\r\n                        .split(\"-\")[1] +\r\n                      \"/\" +\r\n                      new Date(item.date_cancel)\r\n                        .toISOString()\r\n                        .split(\"T\")[0]\r\n                        .split(\"-\")[0] +\r\n                      \" \" +\r\n                      new Date(item.date_cancel).toTimeString().split(\" \")[0]\r\n                    : \"\",\r\n                  Endereço: item.address,\r\n                  Complemento: item.complement,\r\n                });\r\n              });\r\n\r\n              setTimeout(() => {\r\n                const fileType =\r\n                  \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\r\n                const fileExtension = \".xlsx\";\r\n\r\n                const ws = XLSX.utils.json_to_sheet(data);\r\n                const wb = {\r\n                  Sheets: { Relatório: ws },\r\n                  SheetNames: [\"Relatório\"],\r\n                };\r\n                const excelBuffer = XLSX.write(wb, {\r\n                  bookType: \"xlsx\",\r\n                  type: \"array\",\r\n                });\r\n                const dataExport = new Blob([excelBuffer], { type: fileType });\r\n                FileSaver.saveAs(\r\n                  dataExport,\r\n                  \"Relatório-SheepHouse\" + fileExtension\r\n                );\r\n              }, 5000);\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withSnackbar(Reports);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Photographer\\Horary.js",["388"],"import React, { useEffect, useState } from \"react\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport history from \"../../../history\";\r\nimport api from \"../../../services/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(4),\r\n    marginBottom: theme.spacing(4),\r\n    padding: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minWidth: \"300px\",\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(4),\r\n  },\r\n  grid: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction Horary({ enqueueSnackbar }) {\r\n  const { photographer_id } = useParams();\r\n  const classes = useStyles();\r\n  const [segunda, setSegunda] = useState([]);\r\n  const [terca, setTerca] = useState([]);\r\n  const [quarta, setQuarta] = useState([]);\r\n  const [quinta, setQuinta] = useState([]);\r\n  const [sexta, setSexta] = useState([]);\r\n  const [sabado, setSabado] = useState([]);\r\n  const [domingo, setDomingo] = useState([]);\r\n  const [time, setTime] = useState();\r\n  const [dia_semana, setDiaSemana] = useState();\r\n  const [maior, setMaior] = useState([]);\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n  }, []);\r\n\r\n  async function handleLoad() {\r\n    await api\r\n      .get(\"/horary\", { params: { photographer_id } })\r\n      .then((response) => {\r\n        const dia1 = response.data.filter((horary) => horary.dia_semana === 1);\r\n        const dia2 = response.data.filter((horary) => horary.dia_semana === 2);\r\n        const dia3 = response.data.filter((horary) => horary.dia_semana === 3);\r\n        const dia4 = response.data.filter((horary) => horary.dia_semana === 4);\r\n        const dia5 = response.data.filter((horary) => horary.dia_semana === 5);\r\n        const dia6 = response.data.filter((horary) => horary.dia_semana === 6);\r\n        const dia0 = response.data.filter((horary) => horary.dia_semana === 0);\r\n\r\n        console.log(dia1);\r\n        console.log(dia2);\r\n        console.log(dia3);\r\n        console.log(dia4);\r\n        console.log(dia5);\r\n        console.log(dia6);\r\n        console.log(dia0);\r\n\r\n        let maiorDia = [];\r\n\r\n        if (\r\n          dia1.length >= dia2.length &&\r\n          dia1.length >= dia3.length &&\r\n          dia1.length >= dia4.length &&\r\n          dia1.length >= dia5.length &&\r\n          dia1.length >= dia6.length &&\r\n          dia1.length >= dia0.length\r\n        ) {\r\n          maiorDia = dia1;\r\n        } else if (\r\n          dia2.length >= dia1.length &&\r\n          dia2.length >= dia3.length &&\r\n          dia2.length >= dia4.length &&\r\n          dia2.length >= dia5.length &&\r\n          dia2.length >= dia6.length &&\r\n          dia2.length >= dia0.length\r\n        ) {\r\n          maiorDia = dia2;\r\n        } else if (\r\n          dia3.length >= dia1.length &&\r\n          dia3.length >= dia2.length &&\r\n          dia3.length >= dia4.length &&\r\n          dia3.length >= dia5.length &&\r\n          dia3.length >= dia6.length &&\r\n          dia3.length >= dia0.length\r\n        ) {\r\n          maiorDia = dia3;\r\n        } else if (\r\n          dia4.length >= dia1.length &&\r\n          dia4.length >= dia3.length &&\r\n          dia4.length >= dia2.length &&\r\n          dia4.length >= dia5.length &&\r\n          dia4.length >= dia6.length &&\r\n          dia4.length >= dia0.length\r\n        ) {\r\n          maiorDia = dia4;\r\n        } else if (\r\n          dia5.length >= dia1.length &&\r\n          dia5.length >= dia3.length &&\r\n          dia5.length >= dia4.length &&\r\n          dia5.length >= dia2.length &&\r\n          dia5.length >= dia6.length &&\r\n          dia5.length >= dia0.length\r\n        ) {\r\n          maiorDia = dia5;\r\n        } else if (\r\n          dia6.length >= dia1.length &&\r\n          dia6.length >= dia3.length &&\r\n          dia6.length >= dia4.length &&\r\n          dia6.length >= dia5.length &&\r\n          dia6.length >= dia2.length &&\r\n          dia6.length >= dia0.length\r\n        ) {\r\n          maiorDia = dia6;\r\n        } else if (\r\n          dia0.length >= dia1.length &&\r\n          dia0.length >= dia3.length &&\r\n          dia0.length >= dia4.length &&\r\n          dia0.length >= dia5.length &&\r\n          dia0.length >= dia6.length &&\r\n          dia0.length >= dia2.length\r\n        ) {\r\n          maiorDia = dia0;\r\n        }\r\n\r\n        setMaior(maiorDia);\r\n\r\n        setSegunda(dia1);\r\n        setTerca(dia2);\r\n        setQuarta(dia3);\r\n        setQuinta(dia4);\r\n        setSexta(dia5);\r\n        setSabado(dia6);\r\n        setDomingo(dia0);\r\n      });\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (!time) {\r\n      enqueueSnackbar(\"Informe o horário!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!dia_semana) {\r\n      enqueueSnackbar(\"Informe o dia da semana!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .post(`/horary`, { time, dia_semana, photographer_id })\r\n      .then((response) => {\r\n        enqueueSnackbar(\"Horário cadastrado com sucesso!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n\r\n        handleLoad();\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao cadastrar horário!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Paper>\r\n        <Table aria-label=\"Horários\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Segunda-feira</TableCell>\r\n              <TableCell>Terça-feira</TableCell>\r\n              <TableCell>Quarta-feira</TableCell>\r\n              <TableCell>Quinta-feira</TableCell>\r\n              <TableCell>Sexta-feira</TableCell>\r\n              <TableCell>Sábado</TableCell>\r\n              <TableCell>Domingo</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {maior.map((element, index) => {\r\n              return (\r\n                <TableRow>\r\n                  <TableCell align=\"center\">\r\n                    {segunda[index] ? segunda[index].time : \"\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {terca[index] ? terca[index].time : \"\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {quarta[index] ? quarta[index].time : \"\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {quinta[index] ? quinta[index].time : \"\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {sexta[index] ? sexta[index].time : \"\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {sabado[index] ? sabado[index].time : \"\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {domingo[index] ? domingo[index].time : \"\"}\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n      <Paper className={classes.paper}>\r\n        <Typography className={classes.title} component=\"h5\" variant=\"h5\">\r\n          Adicionar Horário\r\n        </Typography>\r\n        <form onSubmit={handleSubmit}>\r\n          <Grid className={classes.grid} item xs={12}>\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <TextField\r\n                id=\"time\"\r\n                label=\"Horário\"\r\n                value={time}\r\n                type=\"time\"\r\n                onChange={(event) => {\r\n                  setTime(event.target.value);\r\n                }}\r\n                variant=\"outlined\"\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid className={classes.grid} item xs={12}>\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <TextField\r\n                id=\"dia_semana\"\r\n                select\r\n                label=\"Dia da Semana\"\r\n                value={dia_semana}\r\n                onChange={(event) => {\r\n                  setDiaSemana(event.target.value);\r\n                }}\r\n                variant=\"outlined\"\r\n              >\r\n                <MenuItem value=\"\"></MenuItem>\r\n                <MenuItem value=\"1\">Segunda-feira</MenuItem>\r\n                <MenuItem value=\"2\">Terça-feira</MenuItem>\r\n                <MenuItem value=\"3\">Quarta-feira</MenuItem>\r\n                <MenuItem value=\"4\">Quinta-feira</MenuItem>\r\n                <MenuItem value=\"5\">Sexta-feira</MenuItem>\r\n                <MenuItem value=\"6\">Sábado</MenuItem>\r\n                <MenuItem value=\"0\">Domingo</MenuItem>\r\n              </TextField>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              className={classes.submit}\r\n            >\r\n              Adicionar\r\n            </Button>\r\n            <Button\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n              onClick={() => {\r\n                history.push(\"/admin/photographer\");\r\n              }}\r\n            >\r\n              Voltar\r\n            </Button>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withSnackbar(Horary);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\Scheduling\\Scheduling.js",["389","390","391","392","393","394","395","396","397","398","399","400","401"],"import React, { useEffect, useState } from \"react\";\r\nimport MaterialTable, { MTableCell } from \"material-table\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport axios from \"axios\";\r\nimport api from \"../../../services/api\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport history from \"../../../history\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100vw\",\r\n      marginTop: theme.spacing(8),\r\n    },\r\n  },\r\n  imgDialog: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      paddingTop: theme.spacing(8),\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Scheduling({ enqueueSnackbar, clientCode }) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  const small = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const [Schedulings, setScheduling] = useState([]),\r\n    [Photographers, setPhotographers] = useState([]),\r\n    columns = [\r\n      {\r\n        title: \"Serviço\",\r\n        field: \"serviceName\",\r\n      },\r\n      {\r\n        title: \"Cliente\",\r\n        field: \"clientName\",\r\n        defaultSort: \"asc\",\r\n        hidden: clientCode,\r\n      },\r\n      {\r\n        title: \"Dia\",\r\n        field: \"day\",\r\n        defaultSort: \"asc\",\r\n        type: \"numeric\",\r\n        cellStyle: {\r\n          textAlign: \"right\",\r\n        },\r\n        filterCellStyle: {\r\n          paddingLeft: 2,\r\n          paddingRight: 2,\r\n        },\r\n      },\r\n      {\r\n        title: \"Mês\",\r\n        field: \"month\",\r\n        lookup: {\r\n          1: \"Janeiro\",\r\n          2: \"Fevereiro\",\r\n          3: \"Março\",\r\n          4: \"Abril\",\r\n          5: \"Maio\",\r\n          6: \"Junho\",\r\n          7: \"Julho\",\r\n          8: \"Agosto\",\r\n          9: \"Setembro\",\r\n          10: \"Outubro\",\r\n          11: \"Novembro\",\r\n          12: \"Dezembro\",\r\n          \"\": \"Administrador irá agendar\",\r\n        },\r\n      },\r\n      {\r\n        title: \"Ano\",\r\n        field: \"year\",\r\n        defaultSort: \"asc\",\r\n        filterPlaceholder: \"9999\",\r\n        cellStyle: {\r\n          textAlign: \"right\",\r\n        },\r\n        filterCellStyle: {\r\n          paddingLeft: 2,\r\n          paddingRight: 2,\r\n        },\r\n      },\r\n      {\r\n        title: \"Horario\",\r\n        field: \"horary\",\r\n        defaultSort: \"asc\",\r\n        cellStyle: {\r\n          textAlign: \"center\",\r\n        },\r\n      },\r\n      {\r\n        title: \"Fotografo\",\r\n        field: \"photographer_id\",\r\n        defaultSort: \"asc\",\r\n        render: (rowData) => {\r\n          const name = rowData.photographer.name.split(\" \");\r\n          return name[0];\r\n        },\r\n        lookup: { ...Photographers },\r\n        hidden: small,\r\n      },\r\n      {\r\n        title: \"Status\",\r\n        field: \"status\",\r\n        lookup: {\r\n          0: \"Cancelado\",\r\n          1: \"Pendente\",\r\n          2: \"Ativo\",\r\n          3: \"Enviado\",\r\n          4: \"Concluído\",\r\n        },\r\n        hidden: small,\r\n      },\r\n      { title: \"UUID\", field: \"file_manager_uuid\", type: \"text\", hidden: true },\r\n    ];\r\n\r\n  useEffect(() => {\r\n    handleLoad();\r\n    handleLoadLookup();\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const FileDownload = require(\"js-file-download\");\r\n\r\n  async function downlaodZipFile(uploadType, folderName, SchedulingId) {\r\n    setOpen(true);\r\n\r\n    await api.put(`/scheduling/${SchedulingId}`, { downloaded: 1 });\r\n    var responseZip = await api.get(\r\n      \"/storages/storage/\" + uploadType + \"/folder/\" + folderName + \"/zip\"\r\n    );\r\n    window.open(\r\n      \"https://zipper.sheephouse.com.br\" + \"/?ref=\" + responseZip.data.result,\r\n      \"_blank\"\r\n    );\r\n  }\r\n\r\n  async function handleLoad() {\r\n    if (clientCode) {\r\n      await api.get(`/Scheduling/byclient/${clientCode}`).then((response) => {\r\n        let schedulingsData = [];\r\n\r\n        response.data.forEach((item) => {\r\n          if (item.date) {\r\n            const date = item.date.split(\"-\");\r\n            item.day = date[2];\r\n            item.month = parseInt(date[1]);\r\n            item.year = parseInt(date[0]);\r\n          } else {\r\n            item.day = \"\";\r\n            item.month = \"\";\r\n            item.year = \"\";\r\n          }\r\n\r\n          if (!item.actived) {\r\n            item.status = 0;\r\n          } else if (item.downloaded) {\r\n            item.status = 4;\r\n          } else if (item.completed) {\r\n            item.status = 3;\r\n          } else if (\r\n            new Date(`${item.date}T00:00:00-03:00`) <= new Date() &&\r\n            new Date(`${item.date}T23:59:59-03:00`) >= new Date()\r\n          ) {\r\n            item.status = 1;\r\n          } else {\r\n            item.status = 2;\r\n          }\r\n\r\n          if (item.drone) {\r\n            item.tipo = 1;\r\n          } else if (item.tour360) {\r\n            item.tipo = 2;\r\n          } else {\r\n            item.tipo = 0;\r\n          }\r\n\r\n          let serviceString = \"\";\r\n\r\n          item.services.map((service) => {\r\n            serviceString += ` ${service.name},`;\r\n          });\r\n\r\n          item.serviceName = serviceString.slice(0, -1);\r\n\r\n          schedulingsData.push(item);\r\n        });\r\n\r\n        setScheduling(schedulingsData);\r\n      });\r\n    } else {\r\n      await api.get(\"/Scheduling\").then((response) => {\r\n        let schedulingsData = [];\r\n\r\n        response.data.forEach((item) => {\r\n          if (item.date) {\r\n            const date = item.date.split(\"-\");\r\n            item.day = date[2];\r\n            item.month = parseInt(date[1]);\r\n            item.year = parseInt(date[0]);\r\n          } else {\r\n            item.day = \"\";\r\n            item.month = \"\";\r\n            item.year = \"\";\r\n          }\r\n\r\n          if (!item.actived) {\r\n            item.status = 0;\r\n          } else if (item.downloaded) {\r\n            item.status = 4;\r\n          } else if (item.completed) {\r\n            item.status = 3;\r\n          } else if (\r\n            new Date(`${item.date}T00:00:00-03:00`) <= new Date() &&\r\n            new Date(`${item.date}T23:59:59-03:00`) >= new Date()\r\n          ) {\r\n            item.status = 1;\r\n          } else {\r\n            item.status = 2;\r\n          }\r\n\r\n          if (item.drone) {\r\n            item.tipo = 1;\r\n          } else if (item.tour360) {\r\n            item.tipo = 2;\r\n          } else {\r\n            item.tipo = 0;\r\n          }\r\n\r\n          let serviceString = \"\";\r\n\r\n          item.services.map((service) => {\r\n            serviceString += ` ${service.name},`;\r\n          });\r\n\r\n          item.serviceName = serviceString.slice(0, -1);\r\n\r\n          item.clientName = item.client.name;\r\n\r\n          schedulingsData.push(item);\r\n        });\r\n\r\n        setScheduling(schedulingsData);\r\n      });\r\n    }\r\n  }\r\n\r\n  async function handleLoadLookup() {\r\n    await api.get(\"/photographer\").then((response) => {\r\n      let data = [];\r\n\r\n      response.data.map((item) => {\r\n        return (data[item.id] = item.name);\r\n      });\r\n\r\n      setPhotographers(data);\r\n    });\r\n  }\r\n\r\n  async function resendEmail(id) {\r\n    await api.get(`/scheduling/${id}/resend`).then((response) => {\r\n      enqueueSnackbar(\"Email reenviado!\", {\r\n        variant: \"success\",\r\n        autoHideDuration: 2500,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.main}>\r\n        <MaterialTable\r\n          title=\"Agendamentos\"\r\n          columns={columns}\r\n          data={Schedulings}\r\n          detailPanel={[\r\n            {\r\n              tooltip: \"Mais informações\",\r\n              render: (rowData) => {\r\n                return (\r\n                  <div style={{ margin: \"0 50px\" }}>\r\n                    {rowData.photo_link && (\r\n                      <p>\r\n                        <a href={rowData.photo_link}>\r\n                          <strong>Baixar Fotos</strong>\r\n                        </a>\r\n                      </p>\r\n                    )}\r\n                    {rowData.video_link && (\r\n                      <p>\r\n                        <a href={rowData.video_link}>\r\n                          <strong>Baixar Videos</strong>\r\n                        </a>\r\n                      </p>\r\n                    )}\r\n                    {rowData.tour_link && (\r\n                      <p>\r\n                        <a href={rowData.tour_link}>\r\n                          <strong>Baixar Tour</strong>\r\n                        </a>\r\n                      </p>\r\n                    )}\r\n                    {small && (\r\n                      <p>\r\n                        <strong>Status:</strong>\r\n                        {rowData.status == 0\r\n                          ? \" Cancelado\"\r\n                          : rowData.status == 1\r\n                          ? \" Pendente\"\r\n                          : rowData.status == 2\r\n                          ? \" Ativo\"\r\n                          : rowData.status == 3\r\n                          ? \" Enviado\"\r\n                          : \" Concluído\"}\r\n                      </p>\r\n                    )}\r\n                    {small && (\r\n                      <p>\r\n                        <strong>Fotógrafo:</strong>\r\n                        {\" \" + rowData.photographer.name}\r\n                      </p>\r\n                    )}\r\n                    <p>\r\n                      <strong>Endereço:</strong> {rowData.address}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Complemento:</strong> {rowData.complement}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Observações:</strong> {rowData.comments}\r\n                    </p>\r\n                    {rowData.date_cancel && (\r\n                      <p>\r\n                        <strong>Cancelamento:</strong>\r\n                        {\" \" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toISOString()\r\n                            .split(\"T\")[0]\r\n                            .split(\"-\")[2] +\r\n                          \"/\" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toISOString()\r\n                            .split(\"T\")[0]\r\n                            .split(\"-\")[1] +\r\n                          \"/\" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toISOString()\r\n                            .split(\"T\")[0]\r\n                            .split(\"-\")[0] +\r\n                          \" \" +\r\n                          new Date(rowData.date_cancel)\r\n                            .toTimeString()\r\n                            .split(\" \")[0]}\r\n                      </p>\r\n                    )}\r\n                    {rowData.reason && !clientCode && (\r\n                      <p>\r\n                        <strong>Motivo reagendamento:</strong>\r\n                        {\" \" + rowData.reason}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                );\r\n              },\r\n            },\r\n          ]}\r\n          actions={[\r\n            (rowData) => ({\r\n              icon: \"send\",\r\n              tooltip: \"Reenviar email\",\r\n              onClick: (event, rowData) => {\r\n                resendEmail(rowData.id);\r\n              },\r\n              hidden:\r\n                clientCode ||\r\n                !rowData.completed ||\r\n                !rowData.actived ||\r\n                !rowData.date ||\r\n                rowData.downloaded,\r\n            }),\r\n            (rowData) => ({\r\n              icon: \"photo_library\",\r\n              tooltip: \"Fotos\",\r\n              onClick: (event, rowData) => {\r\n                if (!clientCode) {\r\n                  history.push(\r\n                    `filemanager/Scheduling/${rowData.file_manager_uuid}/${rowData.id}`\r\n                  );\r\n                }\r\n              },\r\n              hidden: clientCode || !rowData.actived || !rowData.date,\r\n            }),\r\n            (rowData) => ({\r\n              icon: \"event\",\r\n              tooltip: \"Reagendar/Cancelar\",\r\n              onClick: (event, rowData) => {\r\n                history.push(`/scheduling/${rowData.id}`);\r\n              },\r\n              hidden: rowData.completed || !rowData.actived || !rowData.date,\r\n            }),\r\n            (rowData) => ({\r\n              icon: \"event\",\r\n              tooltip: \"Agendar\",\r\n              onClick: (event, rowData) => {\r\n                history.push(`/scheduling/${rowData.id}`);\r\n              },\r\n              hidden: rowData.date || clientCode,\r\n            }),\r\n            {\r\n              icon: \"add\",\r\n              tooltip: \"Agendar\",\r\n              isFreeAction: true,\r\n              onClick: (event) => history.push(`/admin/scheduling/`),\r\n              hidden: clientCode,\r\n            },\r\n          ]}\r\n          components={{\r\n            Cell: (props) => {\r\n              return (\r\n                <MTableCell\r\n                  style={{\r\n                    background: !props.rowData.date\r\n                      ? \"#ddd\"\r\n                      : props.rowData.downloaded\r\n                      ? \"#bbbbff\"\r\n                      : props.rowData.completed\r\n                      ? \"#bbffbb\"\r\n                      : !props.rowData.actived\r\n                      ? \"#ffbbbb\"\r\n                      : props.rowData.changed\r\n                      ? \"#ffffbb\"\r\n                      : \"inherit\",\r\n                  }}\r\n                  {...props}\r\n                />\r\n              );\r\n            },\r\n          }}\r\n          localization={{\r\n            body: {\r\n              filterRow: {\r\n                filterTooltip: \"Filtro\",\r\n              },\r\n              emptyDataSourceMessage: \"Sem registros para mostrar\",\r\n            },\r\n            header: {\r\n              actions: \"\",\r\n            },\r\n            pagination: {\r\n              labelRowsSelect: \"Registros\",\r\n              labelRowsPerPage: \"Registros por página\",\r\n              firstAriaLabel: \"Primeira Página\",\r\n              firstTooltip: \"Primeira Página\",\r\n              previousAriaLabel: \"Página Anterior\",\r\n              previousTooltip: \"Página Anterior\",\r\n              nextAriaLabel: \"Página Seguinte\",\r\n              nextTooltip: \"Página Seguinte\",\r\n              lastAriaLabel: \"Última Página\",\r\n              lastTooltip: \"Última Página\",\r\n            },\r\n          }}\r\n          options={{\r\n            search: false,\r\n            pageSize: 20,\r\n            filtering: true,\r\n            emptyRowsWhenPaging: false,\r\n          }}\r\n        />\r\n      </div>\r\n      <Dialog\r\n        fullScreen={small}\r\n        fullWidth={true}\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogContent>\r\n          <img\r\n            src=\"../../assets/dicas_descompactar_sheephouse.jpg\"\r\n            alt=\"Sheep House\"\r\n            width={\"100%\"}\r\n            className={classes.imgDialog}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  clientCode: state.clientCode,\r\n});\r\n\r\nconst withConnect = connect(mapStateToProps, {});\r\n\r\nexport default compose(withSnackbar, withConnect)(Scheduling);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Admin\\Scheduling\\Scheduling.js",["402","403","404","405","406","407"],"import \"date-fns\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { withSnackbar } from \"notistack\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport api from \"../../../services/api\";\r\n\r\nimport history from \"../../../history\";\r\n\r\nimport Maps from \"../../Global/Scheduling/Maps\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction Scheduling({ enqueueSnackbar }) {\r\n  const classes = useStyles(),\r\n    [horaries, setHoraries] = useState([]),\r\n    [services, setServices] = useState([]),\r\n    [photographers, setPhotographers] = useState([]),\r\n    [clients, setClients] = useState([]),\r\n    [horary, setHorary] = useState(\"\"),\r\n    [city, setCity] = useState(\"\"),\r\n    [district, setDistrict] = useState(\"\"),\r\n    [horaryDisable, setHoraryDisable] = useState(true),\r\n    [dateDisable, setDateDisable] = useState(true),\r\n    [events, setEvents] = useState([]),\r\n    [date, setDate] = useState(new Date()),\r\n    [latitude, setLat] = useState(\"\"),\r\n    [longitude, setLng] = useState(\"\"),\r\n    [address, setAddress] = useState(\"\"),\r\n    [complement, setComplement] = useState(\"\"),\r\n    [comments, setComments] = useState(\"\"),\r\n    [accompanies, setAccompanies] = useState(false),\r\n    [insertEvent, setInsertEvent] = useState(false),\r\n    [region_id, setRegionId] = useState(\"\"),\r\n    [city_id, setCityId] = useState(\"\"),\r\n    [service_id, setServiceId] = useState([]),\r\n    [district_id, setDistrictId] = useState(\"\"),\r\n    [photographer, setPhotographer] = useState([]),\r\n    [photographer_id, setPhotographerId] = useState(\"\"),\r\n    [horary_id, setHoraryId] = useState(\"\"),\r\n    [client_id, setClientId] = useState(\"\"),\r\n    [labelWidth, setLabelWidth] = useState(0),\r\n    inputLabel = React.useRef(null),\r\n    script = document.createElement(\"script\");\r\n\r\n  script.src = \"https://apis.google.com/js/client.js\";\r\n\r\n  useEffect(() => {\r\n    getPhotographers();\r\n    getClients();\r\n    setLabelWidth(inputLabel.current.offsetWidth);\r\n  }, []);\r\n\r\n  async function getHoraries(date, dia_semana, photographer_id) {\r\n    setHoraryDisable(true);\r\n    setHoraryId();\r\n\r\n    enqueueSnackbar(\"Carregando horários disponíveis na data selecionada\", {\r\n      variant: \"success\",\r\n      autoHideDuration: 5000,\r\n      anchorOrigin: {\r\n        vertical: \"top\",\r\n        horizontal: \"center\",\r\n      },\r\n    });\r\n\r\n    await api\r\n      .get(\"/horary\", { params: { photographer_id, dia_semana } })\r\n      .then(async (response) => {\r\n        if (response.data && response.data.length > 0) {\r\n          setHoraries(response.data);\r\n          getEvents(date.format(\"YYYY-MM-DD\"), photographer_id);\r\n        }\r\n      });\r\n  }\r\n\r\n  async function getPhotographers() {\r\n    await api.get(\"/photographer/active\").then((response) => {\r\n      setPhotographers(response.data);\r\n    });\r\n  }\r\n\r\n  async function getClients() {\r\n    await api.get(\"/client\").then((response) => {\r\n      setClients(response.data);\r\n    });\r\n  }\r\n\r\n  function getAddress(address, lat, lng, city, district) {\r\n    setAddress(address);\r\n    setCity(city);\r\n    setDistrict(district);\r\n    setLat(lat);\r\n    setLng(lng);\r\n\r\n    handleInsertAddress(city, district);\r\n  }\r\n\r\n  async function getEvents(date, photographer_id) {\r\n    await api\r\n      .post(`/calendar/event/list`, { photographer_id, date })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          setEvents(response.data);\r\n          setHoraryDisable(false);\r\n        } else {\r\n          setEvents([]);\r\n          setHoraryDisable(false);\r\n        }\r\n\r\n        enqueueSnackbar(\"Horários definidos!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas ao definir os horários!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleInsertAddress(city, district) {\r\n    await api\r\n      .post(`/city/byName`, { city })\r\n      .then(async (response) => {\r\n        setCityId(response.data[0].id);\r\n        setServices(response.data[0].services);\r\n        await api\r\n          .post(`/district/byName`, {\r\n            district,\r\n            city_id: response.data[0].id,\r\n          })\r\n          .then(async (response) => {\r\n            setDistrictId(response.data[0].id);\r\n            setRegionId(response.data[0].region_id);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\r\n          \"Problemas com endereço informado! Entre em contato pelo e-mail sheeephouse@gmail.com.\",\r\n          {\r\n            variant: \"error\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          }\r\n        );\r\n      });\r\n  }\r\n\r\n  async function handleSubmit() {\r\n    if (\r\n      !date ||\r\n      !latitude ||\r\n      !longitude ||\r\n      !address ||\r\n      !region_id ||\r\n      !city_id ||\r\n      !district_id ||\r\n      !photographer_id ||\r\n      !horary ||\r\n      !client_id ||\r\n      !services\r\n    ) {\r\n      enqueueSnackbar(\r\n        \"Informações estão faltando para dar sequência ao processo!\",\r\n        {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .post(`/scheduling`, {\r\n        date: date.format(\"YYYY-MM-DD\"),\r\n        latitude,\r\n        longitude,\r\n        address,\r\n        complement,\r\n        comments,\r\n        accompanies,\r\n        region_id,\r\n        city_id,\r\n        district_id,\r\n        photographer_id,\r\n        horary,\r\n        client_id,\r\n        services: service_id,\r\n      })\r\n      .then(async (response) => {\r\n        if (!insertEvent) {\r\n          const scheduling_id = response.data.id;\r\n          await api\r\n            .post(`/google/event/insertEvent`, {\r\n              scheduling_id,\r\n              horary,\r\n              date: date.format(\"YYYY-MM-DD\"),\r\n            })\r\n            .then(() => {\r\n              enqueueSnackbar(\"Sessão agendada com sucesso!\", {\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n                anchorOrigin: {\r\n                  vertical: \"top\",\r\n                  horizontal: \"center\",\r\n                },\r\n              });\r\n            });\r\n        } else {\r\n          const scheduling_id = response.data.id;\r\n          await api\r\n            .post(`/scheduling/event/sendEmail`, {\r\n              scheduling_id,\r\n              horary,\r\n            })\r\n            .then((response) => {\r\n              enqueueSnackbar(\"Sessão agendada com sucesso!\", {\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n                anchorOrigin: {\r\n                  vertical: \"top\",\r\n                  horizontal: \"center\",\r\n                },\r\n              });\r\n            });\r\n        }\r\n\r\n        history.push(`/scheduling`);\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao agendar sessão!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Typography component=\"h2\" variant=\"h4\">\r\n        Agende a sessão de fotos\r\n      </Typography>\r\n\r\n      <div className={classes.form}>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <Maps addressInfo={getAddress} address={address} />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              type=\"text\"\r\n              onChange={(event) => {\r\n                setComplement(event.target.value);\r\n              }}\r\n              value={complement}\r\n              label=\"Complemento\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              onChange={(event) => {\r\n                setComments(event.target.value);\r\n              }}\r\n              value={comments}\r\n              label=\"Observações\"\r\n              variant=\"outlined\"\r\n              rows=\"3\"\r\n              fullWidth\r\n              multiline\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <InputLabel ref={inputLabel} id=\"photographerSelect\">\r\n                Fotógrafos\r\n              </InputLabel>\r\n              <Select\r\n                id=\"photographerSelect\"\r\n                labelWidth={labelWidth}\r\n                value={photographer_id}\r\n                onChange={(event) => {\r\n                  setDateDisable(false);\r\n                  setPhotographerId(event.target.value);\r\n                  setPhotographer(\r\n                    photographers.find(\r\n                      (photographer) => photographer.id === event.target.value\r\n                    )\r\n                  );\r\n                }}\r\n              >\r\n                <MenuItem value=\"\">-- Selecione --</MenuItem>\r\n                {photographers.map((item) => {\r\n                  return (\r\n                    <MenuItem key={item.id} value={item.id}>\r\n                      {item.name}\r\n                    </MenuItem>\r\n                  );\r\n                })}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {services.length > 0 ? (\r\n              <Typography component=\"h5\" variant=\"h5\">\r\n                Selecione os serviços\r\n              </Typography>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {services.map((service, index) => {\r\n              return (\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      checked={service.checked}\r\n                      onChange={(event) => {\r\n                        let newServices = services;\r\n                        let newServiceId = service_id;\r\n\r\n                        newServices[index].checked = !service.checked;\r\n\r\n                        if (newServiceId.includes(service.id)) {\r\n                          newServiceId = newServiceId.filter((item) => {\r\n                            return item != service.id;\r\n                          });\r\n                        } else {\r\n                          newServiceId.push(service.id);\r\n                        }\r\n\r\n                        setServices([...newServices]);\r\n                        setServiceId([...newServiceId]);\r\n                      }}\r\n                      name={`services[${service.id}]`}\r\n                      id={`service${service.id}`}\r\n                      color=\"primary\"\r\n                      value={service.id}\r\n                    />\r\n                  }\r\n                  label={service.name}\r\n                />\r\n              );\r\n            })}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormGroup row>\r\n              <FormControlLabel\r\n                label=\"Agendamento sem integração com agenda\"\r\n                control={\r\n                  <Checkbox\r\n                    checked={insertEvent}\r\n                    onChange={(event) => {\r\n                      setInsertEvent(!insertEvent);\r\n                      setEvents([]);\r\n                      setDate();\r\n                      setHoraryDisable(true);\r\n                      setHoraryId();\r\n                    }}\r\n                    value={insertEvent}\r\n                  />\r\n                }\r\n              />\r\n            </FormGroup>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <KeyboardDatePicker\r\n                autoOk\r\n                value={date ? moment(date) : \"\"}\r\n                inputVariant=\"outlined\"\r\n                fullWidth\r\n                label=\"Data da Sessão\"\r\n                onChange={(value) => {\r\n                  let date = moment(value);\r\n\r\n                  if (value && date.isValid()) {\r\n                    if (date.day() === 0) {\r\n                      enqueueSnackbar(\r\n                        \"A data informada é um domingo! Por favor, selecione outra data.\",\r\n                        {\r\n                          variant: \"error\",\r\n                          autoHideDuration: 5000,\r\n                          anchorOrigin: {\r\n                            vertical: \"top\",\r\n                            horizontal: \"center\",\r\n                          },\r\n                        }\r\n                      );\r\n                    } else {\r\n                      setDate(date);\r\n                      getHoraries(date, date.day(), photographer_id);\r\n                    }\r\n                  }\r\n                }}\r\n                format=\"dd/MM/yyyy\"\r\n                cancelLabel=\"Cancelar\"\r\n                invalidDateMessage=\"Data em formato inválido.\"\r\n                minDateMessage={`A data deve ser maior que ${moment().format(\r\n                  \"DD/MM/YYYY\"\r\n                )}.`}\r\n              />\r\n            </MuiPickersUtilsProvider>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <InputLabel ref={inputLabel} id=\"horarySelect\">\r\n                Horários\r\n              </InputLabel>\r\n              <Select\r\n                id=\"horarySelect\"\r\n                labelWidth={labelWidth}\r\n                value={horary_id}\r\n                disabled={horaryDisable || dateDisable}\r\n                onChange={(event) => {\r\n                  setHoraryId(event.target.value);\r\n                  setHorary(event.nativeEvent.target.id);\r\n                }}\r\n              >\r\n                <MenuItem value=\"\">-- Selecione --</MenuItem>\r\n                {horaries.map((item) => {\r\n                  let validHorary = true;\r\n\r\n                  const dateHorary = moment(\r\n                      moment(date).format(\"YYYY-MM-DD\") + \" \" + item.time\r\n                    ),\r\n                    initDay = moment(date).set({\r\n                      hour: 0,\r\n                      minute: 0,\r\n                      second: 0,\r\n                      millisecond: 0,\r\n                    }),\r\n                    endDay = moment(date).set({\r\n                      hour: 23,\r\n                      minute: 59,\r\n                      second: 59,\r\n                      millisecond: 59,\r\n                    });\r\n\r\n                  events.map((event) => {\r\n                    if (event.status === \"confirmed\") {\r\n                      const dateStart = moment(event.start.dateTime);\r\n                      const dateEnd = moment(event.end.dateTime);\r\n\r\n                      const eventStart = event.start.date\r\n                        ? initDay\r\n                        : moment(\r\n                            moment(date).format(\"YYYY-MM-DD\") +\r\n                              \" \" +\r\n                              moment(dateStart).format(\"HH:mm:ss\")\r\n                          );\r\n\r\n                      const eventEnd = event.end.date\r\n                        ? endDay\r\n                        : moment(\r\n                            moment(date).format(\"YYYY-MM-DD\") +\r\n                              \" \" +\r\n                              moment(dateEnd).format(\"HH:mm:ss\")\r\n                          );\r\n\r\n                      if (\r\n                        (eventStart.isBefore(\r\n                          dateHorary.clone().add(1, \"seconds\")\r\n                        ) &&\r\n                          eventEnd.isAfter(\r\n                            dateHorary.clone().add(1, \"seconds\")\r\n                          )) ||\r\n                        (eventStart.isBefore(\r\n                          dateHorary\r\n                            .clone()\r\n                            .add(photographer.intervalo, \"minutes\")\r\n                            .subtract(1, \"seconds\")\r\n                        ) &&\r\n                          eventEnd.isAfter(\r\n                            dateHorary\r\n                              .clone()\r\n                              .add(photographer.intervalo, \"minutes\")\r\n                              .subtract(1, \"seconds\")\r\n                          ))\r\n                      ) {\r\n                        validHorary = false;\r\n                      }\r\n                    }\r\n                  });\r\n\r\n                  if (validHorary) {\r\n                    return (\r\n                      <MenuItem id={item.time} key={item.id} value={item.id}>\r\n                        {item.time}\r\n                      </MenuItem>\r\n                    );\r\n                  }\r\n                })}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <InputLabel ref={inputLabel} id=\"clientSelect\">\r\n                Cliente\r\n              </InputLabel>\r\n              <Select\r\n                id=\"clientSelect\"\r\n                labelWidth={labelWidth}\r\n                value={client_id}\r\n                onChange={(event) => {\r\n                  setClientId(event.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value=\"\">-- Selecione --</MenuItem>\r\n                {clients.map((item) => {\r\n                  return (\r\n                    <MenuItem key={item.id} value={item.id}>\r\n                      {item.name}\r\n                    </MenuItem>\r\n                  );\r\n                })}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              size=\"small\"\r\n              fullWidth\r\n              className={classes.submit}\r\n              onClick={() => {\r\n                history.push(\"/scheduling\");\r\n              }}\r\n            >\r\n              Voltar\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={8}>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              fullWidth\r\n              className={classes.submit}\r\n              onClick={() => {\r\n                handleSubmit();\r\n              }}\r\n            >\r\n              Agendar\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default withSnackbar(Scheduling);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\Scheduling\\Rescheduling.js",["408","409","410","411","412"],"import React, { useState, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport api from \"../../../services/api\";\r\n\r\nimport history from \"../../../history\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nfunction Rescheduling({ enqueueSnackbar, clientCode }) {\r\n  const classes = useStyles(),\r\n    [horaries, setHoraries] = useState([]),\r\n    [photographers, setPhotographers] = useState([]),\r\n    [horary, setHorary] = useState(\"\"),\r\n    [horary_id, setHoraryId] = useState(\"\"),\r\n    [horaryDisable, setHoraryDisable] = useState(true),\r\n    [insertEvent, setInsertEvent] = useState(false),\r\n    [events, setEvents] = useState([]),\r\n    [date, setDate] = useState(new Date()),\r\n    [photographer_id, setPhotographerId] = useState(\"\"),\r\n    [photographer, setPhotographer] = useState([]),\r\n    [reason, setReason] = useState(null),\r\n    [scheduling_id, setSchedulingId] = useState(\"\"),\r\n    [scheduling, setScheduling] = useState([]),\r\n    [labelWidth, setLabelWidth] = useState(0),\r\n    inputLabel = React.useRef(null),\r\n    { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setSchedulingId(id);\r\n    getScheduling();\r\n    setLabelWidth(inputLabel.current.offsetWidth);\r\n  }, []);\r\n\r\n  async function getHoraries(date, dia_semana, photographer_id) {\r\n    setHoraryDisable(true);\r\n    setHoraryId();\r\n\r\n    enqueueSnackbar(\"Carregando horários disponíveis na data selecionada\", {\r\n      variant: \"success\",\r\n      autoHideDuration: 5000,\r\n      anchorOrigin: {\r\n        vertical: \"top\",\r\n        horizontal: \"center\",\r\n      },\r\n    });\r\n\r\n    await api\r\n      .get(\"/horary\", { params: { photographer_id, dia_semana } })\r\n      .then(async (response) => {\r\n        if (response.data && response.data.length > 0) {\r\n          setHoraries(response.data);\r\n          getEvents(date.format(\"YYYY-MM-DD\"), photographer_id);\r\n        }\r\n      });\r\n  }\r\n\r\n  async function getPhotographers() {\r\n    await api.get(\"/photographer/active\").then((response) => {\r\n      setPhotographers(response.data);\r\n    });\r\n  }\r\n\r\n  async function getScheduling() {\r\n    await api.get(`/scheduling/${id}`).then((response) => {\r\n      if (\r\n        response.data[0].completed ||\r\n        (!response.data[0].actived && response.data[0].date)\r\n      ) {\r\n        history.push(`/scheduling`);\r\n      }\r\n      setPhotographerId(response.data[0].photographer_id);\r\n      setScheduling(response.data[0]);\r\n      setPhotographer(response.data[0].photographer);\r\n\r\n      if (!response.data[0].date) {\r\n        getPhotographers();\r\n      }\r\n    });\r\n  }\r\n\r\n  async function getEvents(date, photographerId) {\r\n    await api\r\n      .post(`/calendar/event/list`, {\r\n        photographer_id: photographerId,\r\n        date,\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          setEvents(response.data);\r\n          setHoraryDisable(false);\r\n        } else {\r\n          setEvents([]);\r\n          setHoraryDisable(false);\r\n        }\r\n\r\n        enqueueSnackbar(\"Horários definidos!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas ao definir os horários!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleCancel() {\r\n    if (!scheduling_id) {\r\n      enqueueSnackbar(\r\n        \"Informações estão faltando para dar sequência ao processo!\",\r\n        {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (clientCode && !reason) {\r\n      enqueueSnackbar(\"Necessário informar um motivo para cancelar a sessão!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .put(`/scheduling/${scheduling_id}`, {\r\n        changed: true,\r\n        actived: false,\r\n        date_cancel: clientCode ? moment().format(\"YYYY-MM-DD\") : null,\r\n        reason: clientCode ? reason : null,\r\n      })\r\n      .then(async (response) => {\r\n        await api\r\n          .post(`/google/event/cancelEvent`, {\r\n            scheduling_id,\r\n          })\r\n          .then((response) => {\r\n            enqueueSnackbar(\"Sessão cancelada com sucesso!\", {\r\n              variant: \"success\",\r\n              autoHideDuration: 5000,\r\n              anchorOrigin: {\r\n                vertical: \"top\",\r\n                horizontal: \"center\",\r\n              },\r\n            });\r\n            history.push(`/scheduling`);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas ao cancelar sessão!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleScheduling() {\r\n    if (!photographer_id) {\r\n      enqueueSnackbar(\"Necessário informar fotógrafo para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!date) {\r\n      enqueueSnackbar(\"Necessário informar data da sessão para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!horary_id) {\r\n      enqueueSnackbar(\"Necessário informar horário da sessão para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!photographer_id || !date || !horary_id || !scheduling_id) {\r\n      enqueueSnackbar(\r\n        \"Informações estão faltando para dar sequência ao processo!\",\r\n        {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    await api\r\n      .put(`/scheduling/${scheduling_id}`, {\r\n        date: date.format(\"YYYY-MM-DD\"),\r\n        horary,\r\n        photographer_id,\r\n        changed: false,\r\n        actived: true,\r\n      })\r\n      .then(async (response) => {\r\n        if (!insertEvent) {\r\n          const scheduling_id = response.data.id;\r\n          await api\r\n            .post(`/google/event/insertEvent`, {\r\n              scheduling_id,\r\n              horary,\r\n              date: date.format(\"YYYY-MM-DD\"),\r\n            })\r\n            .then(() => {\r\n              enqueueSnackbar(\"Sessão agendada com sucesso!\", {\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n                anchorOrigin: {\r\n                  vertical: \"top\",\r\n                  horizontal: \"center\",\r\n                },\r\n              });\r\n            });\r\n        } else {\r\n          const scheduling_id = response.data.id;\r\n          await api\r\n            .post(`/scheduling/event/sendEmail`, {\r\n              scheduling_id,\r\n              horary,\r\n            })\r\n            .then((response) => {\r\n              enqueueSnackbar(\"Sessão agendada com sucesso!\", {\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n                anchorOrigin: {\r\n                  vertical: \"top\",\r\n                  horizontal: \"center\",\r\n                },\r\n              });\r\n            });\r\n        }\r\n\r\n        history.push(`/scheduling`);\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao agendar sessão!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  async function handleRescheduling() {\r\n    if (!date) {\r\n      enqueueSnackbar(\"Necessário informar data da sessão para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!horary_id) {\r\n      enqueueSnackbar(\"Necessário informar horário da sessão para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (clientCode && !reason) {\r\n      enqueueSnackbar(\r\n        \"Necessário informar um motivo para reagendar a sessão!\",\r\n        {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!date || !horary_id || !scheduling_id) {\r\n      enqueueSnackbar(\r\n        \"Informações estão faltando para dar sequência ao processo!\",\r\n        {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    await api\r\n      .put(`/scheduling/${scheduling_id}`, {\r\n        date: date.format(\"YYYY-MM-DD\"),\r\n        photographer_id,\r\n        horary,\r\n        changed: true,\r\n        reason: clientCode ? reason : null,\r\n      })\r\n      .then(async (response) => {\r\n        const scheduling_id = response.data.id;\r\n        await api\r\n          .post(`/google/event/editEvent`, {\r\n            scheduling_id,\r\n            horary,\r\n            date: date.format(\"YYYY-MM-DD\"),\r\n          })\r\n          .then((response) => {\r\n            enqueueSnackbar(\"Sessão reagendada com sucesso!\", {\r\n              variant: \"success\",\r\n              autoHideDuration: 5000,\r\n              anchorOrigin: {\r\n                vertical: \"top\",\r\n                horizontal: \"center\",\r\n              },\r\n            });\r\n\r\n            history.push(`/scheduling`);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas ao reagendar sessão!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!scheduling.date && (\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h2\" variant=\"h4\">\r\n            Agendar sessão\r\n          </Typography>\r\n\r\n          <div className={classes.form}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel ref={inputLabel} id=\"photographerSelect\">\r\n                    Fotógrafo\r\n                  </InputLabel>\r\n                  <Select\r\n                    id=\"photographerSelect\"\r\n                    labelWidth={labelWidth}\r\n                    value={photographer_id}\r\n                    onChange={(event) => {\r\n                      setPhotographerId(event.target.value);\r\n                    }}\r\n                  >\r\n                    <MenuItem value=\"\">-- Selecione --</MenuItem>\r\n                    {photographers.map((item) => {\r\n                      return (\r\n                        <MenuItem id={item.id} key={item.id} value={item.id}>\r\n                          {item.name}\r\n                        </MenuItem>\r\n                      );\r\n                    })}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormGroup row>\r\n                  <FormControlLabel\r\n                    label=\"Agendamento sem integração com agenda\"\r\n                    control={\r\n                      <Checkbox\r\n                        checked={insertEvent}\r\n                        onChange={(event) => {\r\n                          setInsertEvent(!insertEvent);\r\n                          setEvents([]);\r\n                          setDate();\r\n                          setHoraryDisable(true);\r\n                          setHoraryId();\r\n                        }}\r\n                        value={insertEvent}\r\n                      />\r\n                    }\r\n                  />\r\n                </FormGroup>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                  <KeyboardDatePicker\r\n                    autoOk\r\n                    value={date ? moment(date) : \"\"}\r\n                    inputVariant=\"outlined\"\r\n                    fullWidth\r\n                    label=\"Data da Sessão\"\r\n                    onChange={(value) => {\r\n                      let date = moment(value);\r\n\r\n                      if (value && date.isValid()) {\r\n                        if (date.day() === 0) {\r\n                          enqueueSnackbar(\r\n                            \"A data informada é um domingo! Por favor, selecione outra data.\",\r\n                            {\r\n                              variant: \"error\",\r\n                              autoHideDuration: 5000,\r\n                              anchorOrigin: {\r\n                                vertical: \"top\",\r\n                                horizontal: \"center\",\r\n                              },\r\n                            }\r\n                          );\r\n                        } else {\r\n                          setDate(date);\r\n                          getHoraries(date, date.day(), photographer_id);\r\n                        }\r\n                      }\r\n                    }}\r\n                    minDate={moment()}\r\n                    format=\"dd/MM/yyyy\"\r\n                    cancelLabel=\"Cancelar\"\r\n                    invalidDateMessage=\"Data em formato inválido.\"\r\n                    minDateMessage={`A data deve ser maior que ${moment().format(\r\n                      \"DD/MM/YYYY\"\r\n                    )}.`}\r\n                  />\r\n                </MuiPickersUtilsProvider>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel ref={inputLabel} id=\"horarySelect\">\r\n                    Horários\r\n                  </InputLabel>\r\n                  <Select\r\n                    id=\"horarySelect\"\r\n                    labelWidth={labelWidth}\r\n                    value={horary_id}\r\n                    disabled={horaryDisable}\r\n                    onChange={(event) => {\r\n                      setHoraryId(event.target.value);\r\n                      setHorary(event.nativeEvent.target.id);\r\n                    }}\r\n                  >\r\n                    <MenuItem value=\"\">-- Selecione --</MenuItem>\r\n                    {horaries.map((item) => {\r\n                      let validHorary = true;\r\n\r\n                      const dateHorary = moment(\r\n                          moment(date).format(\"YYYY-MM-DD\") + \" \" + item.time\r\n                        ),\r\n                        initDay = moment(date).set({\r\n                          hour: 0,\r\n                          minute: 0,\r\n                          second: 0,\r\n                          millisecond: 0,\r\n                        }),\r\n                        endDay = moment(date).set({\r\n                          hour: 23,\r\n                          minute: 59,\r\n                          second: 59,\r\n                          millisecond: 59,\r\n                        });\r\n\r\n                      events.map((event) => {\r\n                        if (event.status === \"confirmed\") {\r\n                          const dateStart = moment(event.start.dateTime);\r\n                          const dateEnd = moment(event.end.dateTime);\r\n\r\n                          const eventStart = event.start.date\r\n                            ? initDay\r\n                            : moment(\r\n                                moment(date).format(\"YYYY-MM-DD\") +\r\n                                  \" \" +\r\n                                  moment(dateStart).format(\"HH:mm:ss\")\r\n                              );\r\n\r\n                          const eventEnd = event.end.date\r\n                            ? endDay\r\n                            : moment(\r\n                                moment(date).format(\"YYYY-MM-DD\") +\r\n                                  \" \" +\r\n                                  moment(dateEnd).format(\"HH:mm:ss\")\r\n                              );\r\n\r\n                          if (\r\n                            (eventStart.isBefore(\r\n                              dateHorary.clone().add(1, \"seconds\")\r\n                            ) &&\r\n                              eventEnd.isAfter(\r\n                                dateHorary.clone().add(1, \"seconds\")\r\n                              )) ||\r\n                            (eventStart.isBefore(\r\n                              dateHorary\r\n                                .clone()\r\n                                .add(photographer.intervalo, \"minutes\")\r\n                                .subtract(1, \"seconds\")\r\n                            ) &&\r\n                              eventEnd.isAfter(\r\n                                dateHorary\r\n                                  .clone()\r\n                                  .add(photographer.intervalo, \"minutes\")\r\n                                  .subtract(1, \"seconds\")\r\n                              ))\r\n                          ) {\r\n                            validHorary = false;\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      if (validHorary) {\r\n                        return (\r\n                          <MenuItem\r\n                            id={item.time}\r\n                            key={item.id}\r\n                            value={item.id}\r\n                          >\r\n                            {item.time}\r\n                          </MenuItem>\r\n                        );\r\n                      }\r\n                    })}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  fullWidth\r\n                  className={classes.submit}\r\n                  onClick={() => {\r\n                    history.push(`/scheduling`);\r\n                  }}\r\n                >\r\n                  Voltar\r\n                </Button>\r\n              </Grid>\r\n              <Grid item xs={8}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"small\"\r\n                  fullWidth\r\n                  className={classes.submit}\r\n                  onClick={() => {\r\n                    handleScheduling();\r\n                  }}\r\n                >\r\n                  Agendar sessão\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n        </Paper>\r\n      )}\r\n\r\n      {scheduling.date && (\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h2\" variant=\"h4\">\r\n            Cancele ou reagende sua sessão\r\n          </Typography>\r\n\r\n          <div className={classes.form}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                  <KeyboardDatePicker\r\n                    autoOk\r\n                    value={date ? moment(date) : \"\"}\r\n                    inputVariant=\"outlined\"\r\n                    fullWidth\r\n                    label=\"Data da Sessão\"\r\n                    onChange={(value) => {\r\n                      let date = moment(value);\r\n\r\n                      if (value && date.isValid()) {\r\n                        if (date.day() === 0) {\r\n                          enqueueSnackbar(\r\n                            \"A data informada é um domingo! Por favor, selecione outra data.\",\r\n                            {\r\n                              variant: \"error\",\r\n                              autoHideDuration: 5000,\r\n                              anchorOrigin: {\r\n                                vertical: \"top\",\r\n                                horizontal: \"center\",\r\n                              },\r\n                            }\r\n                          );\r\n                        } else {\r\n                          setDate(date);\r\n                          getHoraries(date, date.day(), photographer_id);\r\n                        }\r\n                      }\r\n                    }}\r\n                    minDate={moment()}\r\n                    format=\"dd/MM/yyyy\"\r\n                    cancelLabel=\"Cancelar\"\r\n                    invalidDateMessage=\"Data em formato inválido.\"\r\n                    minDateMessage={`A data deve ser maior que ${moment().format(\r\n                      \"DD/MM/YYYY\"\r\n                    )}.`}\r\n                  />\r\n                </MuiPickersUtilsProvider>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel ref={inputLabel} id=\"horarySelect\">\r\n                    Horários\r\n                  </InputLabel>\r\n                  <Select\r\n                    id=\"horarySelect\"\r\n                    labelWidth={labelWidth}\r\n                    value={horary_id}\r\n                    disabled={horaryDisable}\r\n                    onChange={(event) => {\r\n                      setHoraryId(event.target.value);\r\n                      setHorary(event.nativeEvent.target.id);\r\n                    }}\r\n                  >\r\n                    <MenuItem value=\"\">-- Selecione --</MenuItem>\r\n                    {horaries.map((item) => {\r\n                      let validHorary = true;\r\n\r\n                      const dateHorary = moment(\r\n                          moment(date).format(\"YYYY-MM-DD\") + \" \" + item.time\r\n                        ),\r\n                        initDay = moment(date).set({\r\n                          hour: 0,\r\n                          minute: 0,\r\n                          second: 0,\r\n                          millisecond: 0,\r\n                        }),\r\n                        endDay = moment(date).set({\r\n                          hour: 23,\r\n                          minute: 59,\r\n                          second: 59,\r\n                          millisecond: 59,\r\n                        });\r\n\r\n                      events.map((event) => {\r\n                        if (event.status === \"confirmed\") {\r\n                          const dateStart = moment(event.start.dateTime);\r\n                          const dateEnd = moment(event.end.dateTime);\r\n\r\n                          const eventStart = event.start.date\r\n                            ? initDay\r\n                            : moment(\r\n                                moment(date).format(\"YYYY-MM-DD\") +\r\n                                  \" \" +\r\n                                  moment(dateStart).format(\"HH:mm:ss\")\r\n                              );\r\n\r\n                          const eventEnd = event.end.date\r\n                            ? endDay\r\n                            : moment(\r\n                                moment(date).format(\"YYYY-MM-DD\") +\r\n                                  \" \" +\r\n                                  moment(dateEnd).format(\"HH:mm:ss\")\r\n                              );\r\n\r\n                          if (\r\n                            (eventStart.isBefore(\r\n                              dateHorary.clone().add(1, \"seconds\")\r\n                            ) &&\r\n                              eventEnd.isAfter(\r\n                                dateHorary.clone().add(1, \"seconds\")\r\n                              )) ||\r\n                            (eventStart.isBefore(\r\n                              dateHorary\r\n                                .clone()\r\n                                .add(photographer.intervalo, \"minutes\")\r\n                                .subtract(1, \"seconds\")\r\n                            ) &&\r\n                              eventEnd.isAfter(\r\n                                dateHorary\r\n                                  .clone()\r\n                                  .add(photographer.intervalo, \"minutes\")\r\n                                  .subtract(1, \"seconds\")\r\n                              ))\r\n                          ) {\r\n                            validHorary = false;\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      if (validHorary) {\r\n                        return (\r\n                          <MenuItem\r\n                            id={item.time}\r\n                            key={item.id}\r\n                            value={item.id}\r\n                          >\r\n                            {item.time}\r\n                          </MenuItem>\r\n                        );\r\n                      }\r\n                    })}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  type=\"text\"\r\n                  onChange={(event) => {\r\n                    setReason(event.target.value);\r\n                  }}\r\n                  value={reason}\r\n                  label=\"Motivo\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  size=\"small\"\r\n                  fullWidth\r\n                  className={classes.submit}\r\n                  onClick={() => {\r\n                    handleCancel();\r\n                  }}\r\n                >\r\n                  Cancelar sessão\r\n                </Button>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"small\"\r\n                  fullWidth\r\n                  className={classes.submit}\r\n                  onClick={() => {\r\n                    handleRescheduling();\r\n                  }}\r\n                >\r\n                  Reagendar sessão\r\n                </Button>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  fullWidth\r\n                  className={classes.submit}\r\n                  onClick={() => {\r\n                    history.push(`/scheduling`);\r\n                  }}\r\n                >\r\n                  Voltar\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n        </Paper>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  clientCode: state.clientCode,\r\n});\r\n\r\nconst withConnect = connect(mapStateToProps, {});\r\n\r\nexport default compose(withSnackbar, withConnect)(Rescheduling);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\User\\Scheduling\\Scheduling.js",["413","414","415","416","417","418","419","420","421"],"import React, { useState, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\n\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { compose } from \"redux\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport api from \"../../../services/api\";\r\n\r\nimport history from \"../../../history\";\r\n\r\nimport Maps from \"../../Global/Scheduling/Maps\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  service: {\r\n    width: \"100%\",\r\n    height: \"60px\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    marginBottom: \"6px\",\r\n    borderRadius: \"4px\",\r\n    padding: \"8px\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#efefef\",\r\n      boxShadow:\r\n        \"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)\",\r\n    },\r\n  },\r\n  serviceContent: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginLeft: \"50px\",\r\n    marginRight: \"50px\",\r\n  },\r\n}));\r\n\r\nfunction Scheduling({ enqueueSnackbar, clientCode }) {\r\n  const classes = useStyles(),\r\n    [step, setStep] = useState(0),\r\n    [horaries, setHoraries] = useState([]),\r\n    [services, setServices] = useState([]),\r\n    [horary, setHorary] = useState(\"\"),\r\n    [retirar_chaves, setRetirarChaves] = useState(false),\r\n    [city, setCity] = useState(\"\"),\r\n    [district, setDistrict] = useState(\"\"),\r\n    [horaryDisable, setHoraryDisable] = useState(true),\r\n    [events, setEvents] = useState([]),\r\n    [date, setDate] = useState(moment()),\r\n    [latitude, setLat] = useState(\"\"),\r\n    [longitude, setLng] = useState(\"\"),\r\n    [address, setAddress] = useState(\"\"),\r\n    [complement, setComplement] = useState(\"\"),\r\n    [comments, setComments] = useState(\"\"),\r\n    [accompanies, setAccompanies] = useState(false),\r\n    [region_id, setRegionId] = useState(\"\"),\r\n    [city_id, setCityId] = useState(\"\"),\r\n    [service_id, setServiceId] = useState([]),\r\n    [district_id, setDistrictId] = useState(\"\"),\r\n    [photographer, setPhotographer] = useState([]),\r\n    [photographer_sabado, setPhotographerSabado] = useState([]),\r\n    [photographer_id, setPhotographerId] = useState(\"\"),\r\n    [horary_id, setHoraryId] = useState(\"\"),\r\n    [servicesSelected, setServicesSelected] = useState(\"\"),\r\n    client_id = clientCode,\r\n    [labelWidth, setLabelWidth] = useState(0),\r\n    inputLabel = React.useRef(null),\r\n    script = document.createElement(\"script\");\r\n\r\n  script.src = \"https://apis.google.com/js/client.js\";\r\n\r\n  useEffect(() => {\r\n    if (step === 0) {\r\n      getPhotographerSabado();\r\n      setServicesSelected(\"\");\r\n      setServices(city.services);\r\n    }\r\n    if (step === 2) {\r\n      setLabelWidth(inputLabel.current.offsetWidth);\r\n    }\r\n  }, [step]);\r\n\r\n  async function getPhotographerSabado() {\r\n    await api.get(\"/photographer/sabado\").then((response) => {\r\n      setPhotographerSabado(response.data[0]);\r\n    });\r\n  }\r\n\r\n  async function getAddress(address, lat, lng, city, district) {\r\n    setAddress(address);\r\n    setCity(city);\r\n    setDistrict(district);\r\n    setLat(lat);\r\n    setLng(lng);\r\n    await api\r\n      .post(`/city/byName`, { city })\r\n      .then(async (response) => {\r\n        setCityId(response.data[0].id);\r\n        setServices(response.data[0].services);\r\n        await api\r\n          .post(`/district/byName`, {\r\n            district,\r\n            city_id: response.data[0].id,\r\n          })\r\n          .then(async (response) => {\r\n            setDistrictId(response.data[0].id);\r\n            setRegionId(response.data[0].region_id);\r\n            await api\r\n              .post(`/photographer/byRegion`, {\r\n                region_id: response.data[0].region_id,\r\n              })\r\n              .then(async (response) => {\r\n                setPhotographer(response.data[0]);\r\n                setPhotographerId(response.data[0].id);\r\n              });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\r\n          \"Problemas com endereço informado! Entre em contato pelo email sheeephouse@gmail.com relatando o acontecimento.\",\r\n          {\r\n            variant: \"error\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          }\r\n        );\r\n      });\r\n  }\r\n\r\n  async function getHoraries(date, dia_semana, photographer_id) {\r\n    setHoraryDisable(true);\r\n    setHoraryId();\r\n\r\n    enqueueSnackbar(\"Carregando horários disponíveis na data selecionada\", {\r\n      variant: \"success\",\r\n      autoHideDuration: 5000,\r\n      anchorOrigin: {\r\n        vertical: \"top\",\r\n        horizontal: \"center\",\r\n      },\r\n    });\r\n\r\n    await api\r\n      .get(\"/horary\", { params: { photographer_id, dia_semana } })\r\n      .then(async (response) => {\r\n        if (response.data && response.data.length > 0) {\r\n          setHoraries(response.data);\r\n          getEvents(date.format(\"YYYY-MM-DD\"), photographer_id);\r\n        } else if (dia_semana === 6) {\r\n          getHoraries(date, dia_semana, photographer_sabado[0].id);\r\n        }\r\n      });\r\n  }\r\n\r\n  async function getEvents(date, photographer_id) {\r\n    await api\r\n      .post(`/calendar/event/list`, {\r\n        photographer_id,\r\n        date,\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          setEvents(response.data);\r\n          setHoraryDisable(false);\r\n        } else {\r\n          setEvents([]);\r\n          setHoraryDisable(false);\r\n        }\r\n\r\n        enqueueSnackbar(\"Horários definidos!\", {\r\n          variant: \"success\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Problemas ao definir os horários!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  function handleReturnStep() {\r\n    setStep(step - 1);\r\n  }\r\n\r\n  async function handleSubmitStep0() {\r\n    if (!address) {\r\n      enqueueSnackbar(\"Necessário informar endereço para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !latitude ||\r\n      !longitude ||\r\n      !address ||\r\n      !region_id ||\r\n      !city_id ||\r\n      !district_id ||\r\n      !photographer_id\r\n    ) {\r\n      enqueueSnackbar(\r\n        \"Problemas com o endereço informado, entre em contato com o administrador!\",\r\n        {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    enqueueSnackbar(\"Fotográfo foi selecionado pelo endereço informado!\", {\r\n      variant: \"success\",\r\n      autoHideDuration: 5000,\r\n      anchorOrigin: {\r\n        vertical: \"top\",\r\n        horizontal: \"center\",\r\n      },\r\n    });\r\n\r\n    enqueueSnackbar(\"Selecione os serviços que deseja para prosseguir!\", {\r\n      variant: \"success\",\r\n      autoHideDuration: 5000,\r\n      anchorOrigin: {\r\n        vertical: \"top\",\r\n        horizontal: \"center\",\r\n      },\r\n    });\r\n\r\n    setStep(1);\r\n  }\r\n\r\n  async function handleSubmitStep1() {\r\n    if (service_id.length == 0) {\r\n      enqueueSnackbar(\"Necessário selecionar um serviço para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (retirar_chaves) {\r\n      if (\r\n        !latitude ||\r\n        !longitude ||\r\n        !address ||\r\n        !region_id ||\r\n        !city_id ||\r\n        !district_id ||\r\n        !photographer_id ||\r\n        !client_id\r\n      ) {\r\n        enqueueSnackbar(\r\n          \"Informações estão faltando para dar sequência ao processo!\",\r\n          {\r\n            variant: \"error\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          }\r\n        );\r\n        return;\r\n      }\r\n      await api\r\n        .post(`/scheduling`, {\r\n          latitude,\r\n          longitude,\r\n          address,\r\n          complement,\r\n          comments,\r\n          region_id,\r\n          city_id,\r\n          district_id,\r\n          photographer_id,\r\n          client_id,\r\n          accompanies,\r\n          actived: false,\r\n          retirar_chaves,\r\n          services: service_id,\r\n        })\r\n        .then(async (response) => {\r\n          enqueueSnackbar(\"Sessão cadastrada com sucesso!\", {\r\n            variant: \"success\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          });\r\n\r\n          history.push(`/scheduling`);\r\n        })\r\n        .catch((error) => {\r\n          enqueueSnackbar(\"Erro ao cadastrar sessão!\", {\r\n            variant: \"error\",\r\n            autoHideDuration: 5000,\r\n            anchorOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n          });\r\n        });\r\n    }\r\n\r\n    let serviceString = \"\";\r\n\r\n    services.map((service) => {\r\n      if (service.checked) {\r\n        serviceString += ` ${service.name},`;\r\n      }\r\n    });\r\n\r\n    setServicesSelected(serviceString);\r\n\r\n    setDate(moment());\r\n    setHoraryDisable(true);\r\n    setHoraryId();\r\n    setEvents([]);\r\n    setStep(2);\r\n\r\n    enqueueSnackbar(\r\n      \"Informe a data da sessão para carregar os horários livres!\",\r\n      {\r\n        variant: \"success\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      }\r\n    );\r\n  }\r\n\r\n  async function handleSubmitStep2() {\r\n    if (!date) {\r\n      enqueueSnackbar(\"Necessário informar data da sessão para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!horary_id) {\r\n      enqueueSnackbar(\"Necessário informar horário da sessão para prosseguir\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 5000,\r\n        anchorOrigin: {\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    setStep(3);\r\n  }\r\n\r\n  async function handleSubmitStep3() {\r\n    if (\r\n      !date ||\r\n      !latitude ||\r\n      !longitude ||\r\n      !address ||\r\n      !region_id ||\r\n      !city_id ||\r\n      !district_id ||\r\n      !photographer_id ||\r\n      !horary ||\r\n      !client_id ||\r\n      !service_id\r\n    ) {\r\n      enqueueSnackbar(\r\n        \"Informações estão faltando para dar sequência ao processo!\",\r\n        {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    await api\r\n      .post(`/scheduling`, {\r\n        date: date.format(\"YYYY-MM-DD\"),\r\n        latitude,\r\n        longitude,\r\n        address,\r\n        complement,\r\n        comments,\r\n        accompanies,\r\n        region_id,\r\n        city_id,\r\n        district_id,\r\n        photographer_id,\r\n        horary,\r\n        client_id,\r\n        services: service_id,\r\n      })\r\n      .then(async (response) => {\r\n        const scheduling_id = response.data.id;\r\n        await api\r\n          .post(`/google/event/insertEvent`, {\r\n            scheduling_id,\r\n            horary,\r\n            date: date.format(\"YYYY-MM-DD\"),\r\n          })\r\n          .then(() => {\r\n            enqueueSnackbar(\r\n              \"Agendamento concluído com sucesso.\\n\\nA Sheep House agradece a preferência!\",\r\n              {\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n                anchorOrigin: {\r\n                  vertical: \"top\",\r\n                  horizontal: \"center\",\r\n                },\r\n              }\r\n            );\r\n\r\n            history.push(`/scheduling`);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        enqueueSnackbar(\"Erro ao cadastrar registro!\", {\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n          anchorOrigin: {\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  if (step === 0) {\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <Typography component=\"h2\" variant=\"h4\">\r\n          Insira os dados da sua sessão\r\n        </Typography>\r\n\r\n        <div className={classes.form}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <Maps addressInfo={getAddress} address={address} />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                type=\"text\"\r\n                onChange={(event) => {\r\n                  setComplement(event.target.value);\r\n                }}\r\n                value={complement}\r\n                label=\"Complemento\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                onChange={(event) => {\r\n                  setComments(event.target.value);\r\n                }}\r\n                value={comments}\r\n                label=\"Observações\"\r\n                variant=\"outlined\"\r\n                rows=\"3\"\r\n                fullWidth\r\n                multiline\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                className={classes.submit}\r\n                onClick={() => {\r\n                  handleSubmitStep0();\r\n                }}\r\n              >\r\n                Continuar\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  if (step === 1) {\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <Typography component=\"h2\" variant=\"h4\">\r\n          Selecione os serviços\r\n        </Typography>\r\n\r\n        <div className={classes.form}>\r\n          <Grid container spacing={2}>\r\n            {services.map((service, index) => {\r\n              return (\r\n                <div\r\n                  key={service.id}\r\n                  className={classes.service}\r\n                  onClick={() => {\r\n                    let newServices = services;\r\n                    let newServiceId = service_id;\r\n\r\n                    newServices[index].checked = !service.checked;\r\n\r\n                    if (newServiceId.includes(service.id)) {\r\n                      newServiceId = newServiceId.filter((item) => {\r\n                        return item != service.id;\r\n                      });\r\n                    } else {\r\n                      newServiceId.push(service.id);\r\n                    }\r\n\r\n                    setServices([...newServices]);\r\n                    setServiceId([...newServiceId]);\r\n                  }}\r\n                >\r\n                  <div className={classes.serviceContent}>\r\n                    <Typography component=\"h5\" variant=\"h6\" align=\"left\">\r\n                      {service.name}\r\n                    </Typography>\r\n                    {service.checked ? (\r\n                      <CheckBoxIcon />\r\n                    ) : (\r\n                      <CheckBoxOutlineBlankIcon />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n            <Grid item xs={12}>\r\n              <FormGroup row>\r\n                <FormControlLabel\r\n                  label=\"Retirar chaves na imobiliária\"\r\n                  control={\r\n                    <Checkbox\r\n                      color=\"primary\"\r\n                      checked={retirar_chaves}\r\n                      onChange={(event) => {\r\n                        setRetirarChaves(!retirar_chaves);\r\n                      }}\r\n                      value={retirar_chaves}\r\n                    />\r\n                  }\r\n                />\r\n              </FormGroup>\r\n              <small style={{ float: \"left\", fontStyle: \"italic\" }}>\r\n                Para IMÓVEIS desocupados a Sheep House fornece serviço de\r\n                retirada de chaves.\r\n              </small>\r\n              <br />\r\n              <small style={{ float: \"left\", fontStyle: \"italic\" }}>\r\n                Para serviços de filmagem interna ou serviços com drone\r\n              </small>\r\n              {retirar_chaves && (\r\n                <>\r\n                  <br />\r\n                  <br />\r\n                  <small\r\n                    style={{\r\n                      float: \"left\",\r\n                      fontWeight: \"bold\",\r\n                    }}\r\n                  >\r\n                    O agendamento será confirmado pelo administrador\r\n                    posteriormente, selecionando um horário adequeado para a\r\n                    sessão\r\n                  </small>\r\n                </>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={4}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n                fullWidth\r\n                className={classes.submit}\r\n                onClick={() => {\r\n                  handleReturnStep();\r\n                }}\r\n              >\r\n                Voltar\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                fullWidth\r\n                className={classes.submit}\r\n                onClick={() => {\r\n                  handleSubmitStep1();\r\n                }}\r\n              >\r\n                Continuar\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  if (step === 2) {\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <Typography component=\"h2\" variant=\"h4\">\r\n          Quando será a sessão de fotos\r\n        </Typography>\r\n\r\n        <div className={classes.form}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <KeyboardDatePicker\r\n                  autoOk\r\n                  value={date}\r\n                  inputVariant=\"outlined\"\r\n                  fullWidth\r\n                  label=\"Data da Sessão\"\r\n                  onChange={(value) => {\r\n                    console.log(value);\r\n                    let date = moment(value);\r\n                    console.log(date);\r\n\r\n                    if (value && date.isValid()) {\r\n                      if (date.day() === 0) {\r\n                        enqueueSnackbar(\r\n                          \"A data informada é um domingo! Por favor, selecione outra data.\",\r\n                          {\r\n                            variant: \"error\",\r\n                            autoHideDuration: 5000,\r\n                            anchorOrigin: {\r\n                              vertical: \"top\",\r\n                              horizontal: \"center\",\r\n                            },\r\n                          }\r\n                        );\r\n                      } else {\r\n                        setDate(date);\r\n                        getHoraries(date, date.day(), photographer_id);\r\n                      }\r\n                    }\r\n                  }}\r\n                  minDate={moment()}\r\n                  format=\"dd/MM/yyyy\"\r\n                  cancelLabel=\"Cancelar\"\r\n                  invalidDateMessage=\"Data em formato inválido.\"\r\n                  minDateMessage={`A data deve ser maior que ${moment().format(\r\n                    \"DD/MM/YYYY\"\r\n                  )}.`}\r\n                />\r\n              </MuiPickersUtilsProvider>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <FormControl variant=\"outlined\" fullWidth>\r\n                <InputLabel ref={inputLabel} id=\"horarySelect\">\r\n                  Horários\r\n                </InputLabel>\r\n                <Select\r\n                  id=\"horarySelect\"\r\n                  labelWidth={labelWidth}\r\n                  value={horary_id}\r\n                  disabled={horaryDisable}\r\n                  onChange={(event) => {\r\n                    setHoraryId(event.target.value);\r\n                    setHorary(event.nativeEvent.target.id);\r\n                  }}\r\n                >\r\n                  <MenuItem value=\"\">-- Selecione --</MenuItem>\r\n                  {horaries.map((item) => {\r\n                    let validHorary = true;\r\n\r\n                    const dateHorary = moment(\r\n                        moment(date).format(\"YYYY-MM-DD\") + \" \" + item.time\r\n                      ),\r\n                      initDay = moment(date).set({\r\n                        hour: 0,\r\n                        minute: 0,\r\n                        second: 0,\r\n                        millisecond: 0,\r\n                      }),\r\n                      endDay = moment(date).set({\r\n                        hour: 23,\r\n                        minute: 59,\r\n                        second: 59,\r\n                        millisecond: 59,\r\n                      });\r\n\r\n                    console.log(\"horario: \" + dateHorary._i);\r\n\r\n                    events.map((event) => {\r\n                      if (event.status === \"confirmed\") {\r\n                        const dateStart = moment(event.start.dateTime);\r\n                        const dateEnd = moment(event.end.dateTime);\r\n\r\n                        const eventStart = event.start.date\r\n                          ? initDay\r\n                          : moment(\r\n                              moment(date).format(\"YYYY-MM-DD\") +\r\n                                \" \" +\r\n                                moment(dateStart).format(\"HH:mm:ss\")\r\n                            );\r\n\r\n                        const eventEnd = event.end.date\r\n                          ? endDay\r\n                          : moment(\r\n                              moment(date).format(\"YYYY-MM-DD\") +\r\n                                \" \" +\r\n                                moment(dateEnd).format(\"HH:mm:ss\")\r\n                            );\r\n\r\n                        console.log(\"start: \" + eventStart._i);\r\n                        console.log(\"end: \" + eventEnd._i);\r\n                        console.log(dateHorary.clone().add(1, \"seconds\"));\r\n                        console.log(dateHorary.clone().add(1, \"seconds\"));\r\n\r\n                        if (\r\n                          (eventStart.isBefore(\r\n                            dateHorary.clone().add(1, \"seconds\")\r\n                          ) &&\r\n                            eventEnd.isAfter(\r\n                              dateHorary.clone().add(1, \"seconds\")\r\n                            )) ||\r\n                          (eventStart.isBefore(\r\n                            dateHorary\r\n                              .clone()\r\n                              .add(photographer.intervalo, \"minutes\")\r\n                              .subtract(1, \"seconds\")\r\n                          ) &&\r\n                            eventEnd.isAfter(\r\n                              dateHorary\r\n                                .clone()\r\n                                .add(photographer.intervalo, \"minutes\")\r\n                                .subtract(1, \"seconds\")\r\n                            ))\r\n                        ) {\r\n                          validHorary = false;\r\n                        }\r\n                      }\r\n                    });\r\n\r\n                    if (validHorary) {\r\n                      return (\r\n                        <MenuItem id={item.time} key={item.id} value={item.id}>\r\n                          {item.time}\r\n                        </MenuItem>\r\n                      );\r\n                    }\r\n                  })}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={4}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n                fullWidth\r\n                className={classes.submit}\r\n                onClick={() => {\r\n                  handleReturnStep();\r\n                }}\r\n              >\r\n                Voltar\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                fullWidth\r\n                className={classes.submit}\r\n                onClick={() => {\r\n                  handleSubmitStep2();\r\n                }}\r\n              >\r\n                Continuar\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  if (step === 3) {\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <Typography component=\"h2\" variant=\"h4\">\r\n          Confirme as informações do agendamento\r\n        </Typography>\r\n\r\n        <div className={classes.form}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                type=\"text\"\r\n                value={address}\r\n                label=\"Endereço\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                fullWidth\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                type=\"text\"\r\n                value={complement}\r\n                label=\"Complemento\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                fullWidth\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                type=\"text\"\r\n                value={servicesSelected.slice(0, -1)}\r\n                label=\"Serviços\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                fullWidth\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                type=\"text\"\r\n                value={moment(date).format(\"DD/MM/YYYY\")}\r\n                label=\"Data da Sessão\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                fullWidth\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                type=\"text\"\r\n                value={horary}\r\n                label=\"Horário da Sessão\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                fullWidth\r\n                InputProps={{\r\n                  readOnly: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={4}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n                fullWidth\r\n                className={classes.submit}\r\n                onClick={() => {\r\n                  handleReturnStep();\r\n                }}\r\n              >\r\n                Voltar\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                fullWidth\r\n                className={classes.submit}\r\n                onClick={() => {\r\n                  handleSubmitStep3();\r\n                }}\r\n              >\r\n                Agendar\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  clientCode: state.clientCode,\r\n});\r\n\r\nconst withConnect = connect(mapStateToProps, {});\r\n\r\nexport default compose(withSnackbar, withConnect)(Scheduling);\r\n","C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Sideitem.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\PageLayout\\Sidebar.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\Scheduling\\Maps.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\FileUploader.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\containers\\Global\\Scheduling\\FileManager.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileManager.js",["422","423","424","425","426"],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\FileUploader.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\Upload\\Upload.js",["427"],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\Progress\\Progress.js",[],"C:\\Users\\victo\\Documents\\GitHub\\sheephouse\\frontend\\src\\components\\Global\\FileManager\\FileUploader\\Dropzone\\Dropzone.js",[],{"ruleId":"428","replacedBy":"429"},{"ruleId":"430","replacedBy":"431"},{"ruleId":"432","severity":1,"message":"433","line":16,"column":9,"nodeType":"434","messageId":"435","endLine":16,"endColumn":21},{"ruleId":"436","severity":1,"message":"437","line":31,"column":6,"nodeType":"438","endLine":31,"endColumn":8,"suggestions":"439"},{"ruleId":"432","severity":1,"message":"440","line":3,"column":8,"nodeType":"434","messageId":"435","endLine":3,"endColumn":13},{"ruleId":"441","severity":1,"message":"442","line":20,"column":10,"nodeType":"443","endLine":20,"endColumn":65},{"ruleId":"432","severity":1,"message":"444","line":1,"column":28,"nodeType":"434","messageId":"435","endLine":1,"endColumn":36},{"ruleId":"432","severity":1,"message":"445","line":2,"column":8,"nodeType":"434","messageId":"435","endLine":2,"endColumn":17},{"ruleId":"432","severity":1,"message":"446","line":6,"column":8,"nodeType":"434","messageId":"435","endLine":6,"endColumn":13},{"ruleId":"436","severity":1,"message":"447","line":32,"column":6,"nodeType":"438","endLine":32,"endColumn":8,"suggestions":"448"},{"ruleId":"449","severity":1,"message":"450","line":38,"column":52,"nodeType":"451","messageId":"452","endLine":38,"endColumn":53},{"ruleId":"432","severity":1,"message":"453","line":6,"column":8,"nodeType":"434","messageId":"435","endLine":6,"endColumn":17},{"ruleId":"432","severity":1,"message":"454","line":14,"column":8,"nodeType":"434","messageId":"435","endLine":14,"endColumn":15},{"ruleId":"432","severity":1,"message":"455","line":41,"column":10,"nodeType":"434","messageId":"435","endLine":41,"endColumn":14},{"ruleId":"436","severity":1,"message":"456","line":46,"column":6,"nodeType":"438","endLine":46,"endColumn":8,"suggestions":"457"},{"ruleId":"458","severity":1,"message":"459","line":56,"column":32,"nodeType":"460","messageId":"461","endLine":56,"endColumn":34},{"ruleId":"458","severity":1,"message":"459","line":58,"column":40,"nodeType":"460","messageId":"461","endLine":58,"endColumn":42},{"ruleId":"462","severity":1,"message":"463","line":59,"column":29,"nodeType":"451","messageId":"464","endLine":59,"endColumn":31},{"ruleId":"458","severity":1,"message":"459","line":72,"column":28,"nodeType":"460","messageId":"461","endLine":72,"endColumn":30},{"ruleId":"458","severity":1,"message":"459","line":120,"column":46,"nodeType":"460","messageId":"461","endLine":120,"endColumn":48},{"ruleId":"462","severity":1,"message":"463","line":121,"column":37,"nodeType":"451","messageId":"464","endLine":121,"endColumn":39},{"ruleId":"458","severity":1,"message":"459","line":30,"column":40,"nodeType":"460","messageId":"461","endLine":30,"endColumn":42},{"ruleId":"462","severity":1,"message":"465","line":31,"column":24,"nodeType":"451","messageId":"464","endLine":31,"endColumn":26},{"ruleId":"436","severity":1,"message":"456","line":44,"column":6,"nodeType":"438","endLine":44,"endColumn":8,"suggestions":"466"},{"ruleId":"436","severity":1,"message":"467","line":48,"column":6,"nodeType":"438","endLine":48,"endColumn":8,"suggestions":"468"},{"ruleId":"432","severity":1,"message":"469","line":2,"column":25,"nodeType":"434","messageId":"435","endLine":2,"endColumn":35},{"ruleId":"432","severity":1,"message":"445","line":3,"column":8,"nodeType":"434","messageId":"435","endLine":3,"endColumn":17},{"ruleId":"432","severity":1,"message":"454","line":17,"column":8,"nodeType":"434","messageId":"435","endLine":17,"endColumn":15},{"ruleId":"436","severity":1,"message":"456","line":140,"column":6,"nodeType":"438","endLine":140,"endColumn":8,"suggestions":"470"},{"ruleId":"462","severity":1,"message":"463","line":225,"column":39,"nodeType":"451","messageId":"464","endLine":225,"endColumn":41},{"ruleId":"462","severity":1,"message":"463","line":227,"column":42,"nodeType":"451","messageId":"464","endLine":227,"endColumn":44},{"ruleId":"462","severity":1,"message":"463","line":229,"column":42,"nodeType":"451","messageId":"464","endLine":229,"endColumn":44},{"ruleId":"462","severity":1,"message":"463","line":231,"column":42,"nodeType":"451","messageId":"464","endLine":231,"endColumn":44},{"ruleId":"462","severity":1,"message":"463","line":329,"column":31,"nodeType":"451","messageId":"464","endLine":329,"endColumn":33},{"ruleId":"462","severity":1,"message":"463","line":331,"column":35,"nodeType":"451","messageId":"464","endLine":331,"endColumn":37},{"ruleId":"462","severity":1,"message":"463","line":333,"column":35,"nodeType":"451","messageId":"464","endLine":333,"endColumn":37},{"ruleId":"462","severity":1,"message":"463","line":335,"column":35,"nodeType":"451","messageId":"464","endLine":335,"endColumn":37},{"ruleId":"436","severity":1,"message":"471","line":44,"column":6,"nodeType":"438","endLine":44,"endColumn":8,"suggestions":"472"},{"ruleId":"432","severity":1,"message":"469","line":2,"column":25,"nodeType":"434","messageId":"435","endLine":2,"endColumn":35},{"ruleId":"432","severity":1,"message":"473","line":3,"column":8,"nodeType":"434","messageId":"435","endLine":3,"endColumn":12},{"ruleId":"432","severity":1,"message":"454","line":13,"column":8,"nodeType":"434","messageId":"435","endLine":13,"endColumn":15},{"ruleId":"432","severity":1,"message":"474","line":29,"column":6,"nodeType":"434","messageId":"435","endLine":29,"endColumn":13},{"ruleId":"432","severity":1,"message":"475","line":32,"column":6,"nodeType":"434","messageId":"435","endLine":32,"endColumn":14},{"ruleId":"432","severity":1,"message":"476","line":32,"column":16,"nodeType":"434","messageId":"435","endLine":32,"endColumn":27},{"ruleId":"462","severity":1,"message":"463","line":242,"column":41,"nodeType":"451","messageId":"464","endLine":242,"endColumn":43},{"ruleId":"462","severity":1,"message":"463","line":244,"column":44,"nodeType":"451","messageId":"464","endLine":244,"endColumn":46},{"ruleId":"462","severity":1,"message":"463","line":246,"column":44,"nodeType":"451","messageId":"464","endLine":246,"endColumn":46},{"ruleId":"462","severity":1,"message":"463","line":248,"column":44,"nodeType":"451","messageId":"464","endLine":248,"endColumn":46},{"ruleId":"462","severity":1,"message":"463","line":342,"column":33,"nodeType":"451","messageId":"464","endLine":342,"endColumn":35},{"ruleId":"462","severity":1,"message":"463","line":344,"column":37,"nodeType":"451","messageId":"464","endLine":344,"endColumn":39},{"ruleId":"462","severity":1,"message":"463","line":346,"column":37,"nodeType":"451","messageId":"464","endLine":346,"endColumn":39},{"ruleId":"462","severity":1,"message":"463","line":348,"column":37,"nodeType":"451","messageId":"464","endLine":348,"endColumn":39},{"ruleId":"436","severity":1,"message":"456","line":58,"column":6,"nodeType":"438","endLine":58,"endColumn":8,"suggestions":"477"},{"ruleId":"432","severity":1,"message":"445","line":3,"column":8,"nodeType":"434","messageId":"435","endLine":3,"endColumn":17},{"ruleId":"432","severity":1,"message":"446","line":11,"column":8,"nodeType":"434","messageId":"435","endLine":11,"endColumn":13},{"ruleId":"432","severity":1,"message":"478","line":19,"column":16,"nodeType":"434","messageId":"435","endLine":19,"endColumn":22},{"ruleId":"436","severity":1,"message":"456","line":135,"column":6,"nodeType":"438","endLine":135,"endColumn":8,"suggestions":"479"},{"ruleId":"432","severity":1,"message":"480","line":141,"column":9,"nodeType":"434","messageId":"435","endLine":141,"endColumn":21},{"ruleId":"432","severity":1,"message":"481","line":143,"column":18,"nodeType":"434","messageId":"435","endLine":143,"endColumn":33},{"ruleId":"449","severity":1,"message":"450","line":151,"column":42,"nodeType":"451","messageId":"452","endLine":151,"endColumn":43},{"ruleId":"458","severity":1,"message":"459","line":198,"column":39,"nodeType":"460","messageId":"461","endLine":198,"endColumn":41},{"ruleId":"458","severity":1,"message":"459","line":250,"column":39,"nodeType":"460","messageId":"461","endLine":250,"endColumn":41},{"ruleId":"462","severity":1,"message":"463","line":328,"column":41,"nodeType":"451","messageId":"464","endLine":328,"endColumn":43},{"ruleId":"462","severity":1,"message":"463","line":330,"column":44,"nodeType":"451","messageId":"464","endLine":330,"endColumn":46},{"ruleId":"462","severity":1,"message":"463","line":332,"column":44,"nodeType":"451","messageId":"464","endLine":332,"endColumn":46},{"ruleId":"462","severity":1,"message":"463","line":334,"column":44,"nodeType":"451","messageId":"464","endLine":334,"endColumn":46},{"ruleId":"432","severity":1,"message":"455","line":55,"column":6,"nodeType":"434","messageId":"435","endLine":55,"endColumn":10},{"ruleId":"432","severity":1,"message":"482","line":56,"column":6,"nodeType":"434","messageId":"435","endLine":56,"endColumn":14},{"ruleId":"432","severity":1,"message":"483","line":66,"column":19,"nodeType":"434","messageId":"435","endLine":66,"endColumn":33},{"ruleId":"462","severity":1,"message":"465","line":382,"column":41,"nodeType":"451","messageId":"464","endLine":382,"endColumn":43},{"ruleId":"458","severity":1,"message":"484","line":477,"column":38,"nodeType":"460","messageId":"485","endLine":477,"endColumn":40},{"ruleId":"458","severity":1,"message":"459","line":496,"column":38,"nodeType":"460","messageId":"461","endLine":496,"endColumn":40},{"ruleId":"436","severity":1,"message":"486","line":69,"column":6,"nodeType":"438","endLine":69,"endColumn":8,"suggestions":"487"},{"ruleId":"458","severity":1,"message":"484","line":534,"column":42,"nodeType":"460","messageId":"485","endLine":534,"endColumn":44},{"ruleId":"458","severity":1,"message":"459","line":553,"column":42,"nodeType":"460","messageId":"461","endLine":553,"endColumn":44},{"ruleId":"458","severity":1,"message":"484","line":712,"column":42,"nodeType":"460","messageId":"485","endLine":712,"endColumn":44},{"ruleId":"458","severity":1,"message":"459","line":731,"column":42,"nodeType":"460","messageId":"461","endLine":731,"endColumn":44},{"ruleId":"432","severity":1,"message":"488","line":15,"column":8,"nodeType":"434","messageId":"435","endLine":15,"endColumn":20},{"ruleId":"432","severity":1,"message":"482","line":86,"column":6,"nodeType":"434","messageId":"435","endLine":86,"endColumn":14},{"ruleId":"432","severity":1,"message":"483","line":95,"column":19,"nodeType":"434","messageId":"435","endLine":95,"endColumn":33},{"ruleId":"436","severity":1,"message":"489","line":121,"column":6,"nodeType":"438","endLine":121,"endColumn":12,"suggestions":"490"},{"ruleId":"462","severity":1,"message":"463","line":296,"column":27,"nodeType":"451","messageId":"464","endLine":296,"endColumn":29},{"ruleId":"458","severity":1,"message":"459","line":375,"column":28,"nodeType":"460","messageId":"461","endLine":375,"endColumn":30},{"ruleId":"462","severity":1,"message":"465","line":591,"column":37,"nodeType":"451","messageId":"464","endLine":591,"endColumn":39},{"ruleId":"458","severity":1,"message":"484","line":757,"column":40,"nodeType":"460","messageId":"485","endLine":757,"endColumn":42},{"ruleId":"458","severity":1,"message":"459","line":778,"column":40,"nodeType":"460","messageId":"461","endLine":778,"endColumn":42},{"ruleId":"432","severity":1,"message":"491","line":2,"column":8,"nodeType":"434","messageId":"435","endLine":2,"endColumn":21},{"ruleId":"432","severity":1,"message":"454","line":20,"column":8,"nodeType":"434","messageId":"435","endLine":20,"endColumn":15},{"ruleId":"432","severity":1,"message":"492","line":44,"column":11,"nodeType":"434","messageId":"435","endLine":44,"endColumn":21},{"ruleId":"432","severity":1,"message":"493","line":44,"column":23,"nodeType":"434","messageId":"435","endLine":44,"endColumn":33},{"ruleId":"436","severity":1,"message":"456","line":53,"column":6,"nodeType":"438","endLine":53,"endColumn":8,"suggestions":"494"},{"ruleId":"462","severity":1,"message":"465","line":153,"column":45,"nodeType":"451","messageId":"464","endLine":153,"endColumn":47},"no-native-reassign",["495"],"no-negated-in-lhs",["496"],"no-unused-vars","'refreshToken' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dateToken'. Either include it or remove the dependency array.","ArrayExpression",["497"],"'Paper' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useState' is defined but never used.","'Container' is defined but never used.","'axios' is defined but never used.","React Hook useEffect has missing dependencies: 'dbCode', 'folderName', and 'uploadType'. Either include them or remove the dependency array.",["498"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'FormGroup' is defined but never used.","'history' is defined but never used.","'city' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'handleLoad'. Either include it or remove the dependency array.",["499"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","eqeqeq","Expected '===' and instead saw '=='.","unexpected","Expected '!==' and instead saw '!='.",["500"],"React Hook useEffect has missing dependencies: 'email', 'handleSubmit', and 'password'. Either include them or remove the dependency array.",["501"],"'MTableCell' is defined but never used.",["502"],"React Hook useEffect has missing dependencies: 'code', 'handleFirstAuth', and 'id'. Either include them or remove the dependency array.",["503"],"'Grid' is defined but never used.","'Clients' is assigned a value but never used.","'Horaries' is assigned a value but never used.","'setHoraries' is assigned a value but never used.",["504"],"'uuidv4' is defined but never used.",["505"],"'FileDownload' is assigned a value but never used.","'downlaodZipFile' is defined but never used.","'district' is assigned a value but never used.","'setAccompanies' is assigned a value but never used.","Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","React Hook useEffect has missing dependencies: 'getScheduling' and 'id'. Either include them or remove the dependency array.",["506"],"'WhatsAppIcon' is defined but never used.","React Hook useEffect has a missing dependency: 'city.services'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setServices' needs the current value of 'city.services'.",["507"],"'MaterialTable' is defined but never used.","'uploadType' is assigned a value but never used.","'folderName' is assigned a value but never used.",["508"],"no-global-assign","no-unsafe-negation",{"desc":"509","fix":"510"},{"desc":"511","fix":"512"},{"desc":"513","fix":"514"},{"desc":"513","fix":"515"},{"desc":"516","fix":"517"},{"desc":"513","fix":"518"},{"desc":"519","fix":"520"},{"desc":"513","fix":"521"},{"desc":"513","fix":"522"},{"desc":"523","fix":"524"},{"desc":"525","fix":"526"},{"desc":"513","fix":"527"},"Update the dependencies array to be: [dateToken]",{"range":"528","text":"529"},"Update the dependencies array to be: [dbCode, folderName, uploadType]",{"range":"530","text":"531"},"Update the dependencies array to be: [handleLoad]",{"range":"532","text":"533"},{"range":"534","text":"533"},"Update the dependencies array to be: [email, handleSubmit, password]",{"range":"535","text":"536"},{"range":"537","text":"533"},"Update the dependencies array to be: [code, handleFirstAuth, id]",{"range":"538","text":"539"},{"range":"540","text":"533"},{"range":"541","text":"533"},"Update the dependencies array to be: [getScheduling, id]",{"range":"542","text":"543"},"Update the dependencies array to be: [city.services, step]",{"range":"544","text":"545"},{"range":"546","text":"533"},[997,999],"[dateToken]",[873,875],"[dbCode, folderName, uploadType]",[1314,1316],"[handleLoad]",[1332,1334],[1583,1585],"[email, handleSubmit, password]",[3481,3483],[1422,1424],"[code, handleFirstAuth, id]",[1930,1932],[3531,3533],[2405,2407],"[getScheduling, id]",[4045,4051],"[city.services, step]",[1680,1682]]